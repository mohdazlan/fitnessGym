
/**
 * The code below uses open source software. Please visit the URL below for an overview of the licenses:
 * http://js.api.here.com/v3/3.1.30.7/HERE_NOTICE
 */

H.util.eval("R.prototype.O=ca(3,function(a){var b=this.getCache(),c=this;if(a!==y){C(a,Dk,R.prototype.O,0);var d=a}else d=hl;d!==b&&b.qa(function(e,f,g){return c.gc(e)?(d.add(e,f,g),!0):!1});this.U=d});Th.prototype.b=ca(2,function(a){this.i=a;a=this.getState();a!==Qh.INIT&&a!==Qh.LOADING&&ai(this)});function Fp(a,b){Wa.apply(null,arguments);return a}function Gp(){this.a={}}\nfunction Hp(a,b){for(var c in b)if(b.hasOwnProperty(c)){var d,e=b[c],f=a.a[c]||(a.a[c]=[]),g=e.length;for(d=0;d<g;d++)f.push(new Ip(e[d]))}}function Jp(a,b,c,d){var e=(a=a.a[b])?a.length:0,f=[];for(b=0;b<e;b++)a[b].Ad(c,d)&&f.push(a[b]);return f}\nfunction Ip(a){var b,c=a.boxes;this.label=a.label;this.min=a.minLevel;this.max=a.maxLevel;this.b=[];if(c&&(b=c.length)){var d=c[0];var e=new K(d[0],d[1],d[2],d[3]);this.b.push(e);this.a=new K(d[0],d[1],d[2],d[3]);for(a=1;a<b;a++)d=c[a],e=new K(d[0],d[1],d[2],d[3]),this.b.push(e),this.a.nc(e,!1,this.a)}}Ip.prototype.Ad=function(a,b){if(a>=this.min&&a<=this.max)if((a=this.b.length)&&this.a){if(this.a.Ad(b))for(;a--;)if(this.b[a].Ad(b))return!0}else return!0;return!1};function W(a,b,c,d,e,f){if(a&&b)this.Cl(a),this.Ig(b),this.Md(c),this.Bl(e),this.rl(f),this.Oi(d);else throw Error('Parameters \"scheme\" and \"host\" must be specified');}t(\"H.service.Url\",W);\nfunction Kp(a,b){var c=x.document,d,e=c&&c.createElement(\"a\"),f=\"\";if(c){if(b){var g=(d=c.getElementsByTagName(\"base\")[0])&&d.href;var h=c.head;var k=d||h.appendChild(c.createElement(\"base\"));k.href=b}e.href=a;f=e.href;b&&(d?d.href=g:h.removeChild(k))}else/[\\w]+:\\/\\//.test(a)&&(f=a);g=/(?:(\\w+):\\/\\/)?(?:([^:]+):([^@/]*)@)?([^/:]+)?(?:[:]{1}([0-9]+))?(\\/[^?#]*)?(\\?[^#]+)?(#.*)?/.exec(f);a=g[1];k=g[4];b=g[5];h=g[6];c=g[7];d=g[8];!g[2]&&k&&/@/.test(k)&&(k=k.split(\"@\")[1]);g=k;h=h&&0<h.length?h.substr(1):\n\"\";k={};if(c)for(e=/([?&]?([^=&+]+))(=([^&]+))?/g;f=e.exec(c);)k[decodeURIComponent(f[2])]=f[4]?decodeURIComponent(f[4]):void 0;return new W(a,g,h,k,isNaN(+b)?void 0:+b,d&&0<d.length?d.substr(1):\"\")}W.parse=Kp;var Lp=0;W.prototype.clone=function(){Lp++;var a={},b;for(b in this.a)a[b]=this.a[b];return new W(this.s,this.f,this.c,a,this.g,this.b)};W.prototype.clone=W.prototype.clone;\nW.prototype.Cl=function(a){if(!a||\"string\"!==typeof a)throw Error('The \"scheme\" parameter must be a non-empty string.');this.s=a;return this};W.prototype.setScheme=W.prototype.Cl;W.prototype.Hn=function(){return this.s};W.prototype.getScheme=W.prototype.Hn;W.prototype.Ig=function(a){if(!a||\"string\"!==typeof a||\"-\"===a.charAt(0)||\".\"===a.charAt(0)||\".\"===a.charAt(a.length-1))throw Error('The \"host\" parameter is not a valid host name.');this.f=a;return this};W.prototype.setHost=W.prototype.Ig;\nW.prototype.bn=function(){return this.f};W.prototype.getHost=W.prototype.bn;W.prototype.Md=function(a){this.c=a||void 0;return this};W.prototype.setPath=W.prototype.Md;W.prototype.un=function(){return this.c};W.prototype.getPath=W.prototype.un;W.prototype.Oi=function(a){if(a)if(\"object\"==typeof a)this.a=a;else throw Error('Parameter \"params\" must be an object.');else this.a={};return this};W.prototype.setQuery=W.prototype.Oi;W.prototype.jk=function(){return!Mp(this)};W.prototype.hasQuery=W.prototype.jk;\nW.prototype.getQuery=function(){return this.a};W.prototype.getQuery=W.prototype.getQuery;W.prototype.Bl=function(a){if(a&&isNaN(parseInt(a,10)))throw Error('Parameter \"port\" must be a number or undefined');this.g=+a||void 0;return this};W.prototype.setPort=W.prototype.Bl;W.prototype.yn=function(){return this.g};W.prototype.getPort=W.prototype.yn;W.prototype.rl=function(a){this.b=a||void 0;return this};W.prototype.setAnchor=W.prototype.rl;W.prototype.ud=function(){return this.b};\nW.prototype.getAnchor=W.prototype.ud;W.prototype.I=function(a){if(\"object\"!==typeof a)throw Error('Parameter \"other\" must be an object.');var b=this.a,c;for(c in a)a.hasOwnProperty(c)&&\"function\"!==typeof a[c]&&(b[c]=a[c]);return this};W.prototype.mergeQuery=W.prototype.I;W.prototype.Ma=function(a){if(!a||\"string\"!==typeof a)throw Error('Parameter \"subDomain\" must be a non-empty string');\".\"===a.substr(a.length-1)&&(a=a.substr(0,a.length-1));return this.Ig(a+\".\"+this.f)};\nW.prototype.addSubDomain=W.prototype.Ma;W.prototype.F=function(a){if(!a||\"string\"!==typeof a)throw Error('Parameter \"subPath\" must be a non-empty string');return this.Md((this.c?this.c+\"/\":\"\")+a)};W.prototype.addSubPath=W.prototype.F;W.prototype.toString=function(){return[this.s+\"://\",this.f,this.g?\":\"+this.g:\"\",this.c||!Mp(this)||this.b?\"/\":\"\",this.c?encodeURI(this.c):\"\",Np(this),this.b?\"#\"+encodeURIComponent(this.b):\"\"].join(\"\")};W.prototype.toString=W.prototype.toString;\nfunction Np(a){function b(g,h){return encodeURIComponent(g)+(void 0===h?\"\":\"=\"+encodeURIComponent(h).replace(/[!'()*]/g,function(k){return\"%\"+k.charCodeAt(0).toString(16)}))}var c=[],d,e=a.a;for(d in e)if(e.hasOwnProperty(d)&&\"function\"!==typeof e[d]){var f=a.a[d];C(f,Op)?f.Rl.forEach(function(g){c.push(b(d,g))}):c.push(b(d,f))}return 0<c.length?\"?\"+c.join(\"&\"):\"\"}function Pp(a){var b=Ef(\"H-service\",\"1.30.7\",\"776722f\");a.a.xnlp=\"CL_JSMv3.\"+b.version;return a}\nfunction Mp(a){var b,c=0;for(b in a.a)if(a.a.hasOwnProperty(b)&&\"function\"!==typeof a.a[b]&&(c++,0<c))break;return!c}function Op(a){var b;if(!yc(a))throw new D(Op,0,a);for(b=0;b<a.length;b++){var c=a[b];if(!zc(c)&&!Cc(c))throw new D(Op,0,\"The array can only contain strings and numbers\");}this.Rl=a}W.MultiValueQueryParameter=Op;Op.prototype.Sn=function(){return this.Rl};Op.prototype.getValues=Op.prototype.Sn;var Qp=globalThis;rc(\"monospace serif\");function Rp(){}Rp.prototype.pop=function(a){this[a]||(this[a]=[]);return this[a].pop()||Qp.document.createElement(\"canvas\")};Rp.prototype.push=function(a,b){this[b]||(this[b]=[]);this[b].push(a)};var Sp=new Rp;t(\"H.service.util.eval\",function(a){return eval(a)});function Tp(){var a=decodeURIComponent(x.H.getScriptPath());a=a?\"/\"===a[a.length-1]?a.substring(0,a.length-1):a:\"https://js.api.here.com/v3/3.1.30.7\";return Kp(a).F(\"styles\")};function Up(a,b,c,d,e,f,g){var h=this;g=g||{};f=f?f:{};var k=a.D().clone().F(b+\"/\"+a.Cc()+\"/\"+c).I(f),l=a.Fh();this.J=a;this.W=k;sk.call(this,{tileSize:d,max:512===d?19:20,min:512===d?2:0,getURL:function(m,p,q){var r=h.W.clone();l&&r.Ma(l[(q+p+m)%l.length]);r.F(q+\"/\"+m+\"/\"+p+\"/\"+d+\"/\"+e);return r.toString()},crossOrigin:g.crossOrigin,headers:g.headers,uri:k.toString().replace(/_/g,\"\")+d,engineType:g.engineType});this.kb=b;this.s=c;this.a=f;this.yb=c.split(\".\")[0];this.ng=A(this.ng,this);this.getCopyrights=\nthis.ta;a.addEventListener(\"versionupdate\",this.ng)}u(Up,sk);Up.prototype.MAX_STORE_TIME=2592E6;n=Up.prototype;n.u=function(){sk.prototype.u.call(this);this.J.removeEventListener(\"versionupdate\",this.ng)};n.ta=function(a,b){return Jp(this.J.ta(),this.yb,b,a)};n.ng=function(){var a=this.J;this.W=a.D().clone().F(this.kb+\"/\"+a.Cc()+\"/\"+this.s).I(this.a);this.reload(!1)};n.fh=function(){return ld()};n.ge=function(){return ld()?kd():Up.l.ge.call(this)};function Vp(a,b){b=void 0===b?{}:b;if(!a.qk)throw new Xc(a);Vp.l.constructor.call(this);var c=Wp(this,b);if(!c.baseUrl&&!c.platformBaseUrl)throw new D(a,0,'either \"baseUrl\" or \"platformBaseUrl\" must be specified');this.c=(c.baseUrl?c.baseUrl:c.platformBaseUrl).clone();a=c.baseUrl?b:c;a.host&&this.c.Ig(a.host);a.subDomain&&this.c.Ma(a.subDomain);a.path&&this.c.Md(a.path);Pp(this.c);this.gf=c.headers||{}}u(Vp,F);t(\"H.service.Service\",Vp);function Wp(a,b){a=a.a();return b?Fp({},a,b):a}\nVp.prototype.a=function(){return{}};Vp.prototype.D=function(){return this.c};Vp.prototype.getUrl=Vp.prototype.D;Vp.prototype.K=function(a,b,c,d){d=new rf(void 0===d?\"application/json\":d,a.toString(),fe,{headers:this.gf});d.then(b,Xp(this,a,c));return d};function Xp(a,b,c){return function(d){return\"function\"!==typeof d.json?Promise.reject(c(Zp(b,d))):d.json().then(function(e){return c(a.b(e))},function(){return c(Zp(b,d))})}}Vp.prototype.b=function(a){return Error(a.message)};\nfunction Zp(a,b){return Error((b.statusText?\"[\"+b.statusText+\"] \":\"\")+a+\" request failed\")};function Y(a){a=Fp({},this.b,a);var b=a.apikey||a.apiKey,c=a.baseUrl;if(c=b?c?0:\"baseUrl\":\"apikey\")throw new D(Y,0,'\"'+c+'\" must be specified');this.ul(a.baseUrl);this.a=b;this.c.I({apikey:b});this.f=a.headers||{};this.g=Ua(a.servicesConfig||{})}t(\"H.service.Platform\",Y);Y.prototype.b={apikey:null,baseUrl:new W(\"https\",\"hereapi.com\")};Y.prototype.ul=function(a){this.c=Pp(a.clone());this.a=a=this.a;this.c.I({apikey:a})};Y.prototype.setBaseUrl=Y.prototype.ul;Y.prototype.hc=function(){return this.c};\nY.prototype.getBaseUrl=Y.prototype.hc;Y.prototype.Ya=function(a,b){try{return a.qk=!0,new a(Fp({platformBaseUrl:this.hc(),headers:this.f},this.g[a.CONFIG_KEY]||{},b||{}))}finally{delete a.qk}};Y.prototype.createService=Y.prototype.Ya;function $p(a){$p.l.constructor.call(this,$p,a);a=Wp(this,a);this.bc=a.shards;(this.Ra=a.ignoreTypes?null:a.type)&&this.D().Ma(this.Ra);this.cc=a.version;this.Xc=new Gp;this.vi={};this.Rf=0;\"newest\"===this.cc&&this.ph()}u($p,Vp);t(\"H.service.MapTileService\",$p);$p.prototype.a=function(){return{subDomain:\"maps.ls\",path:\"maptile/2.1\",type:\"base\",version:\"newest\",shards:[\"1\",\"2\",\"3\",\"4\"]}};$p.CONFIG_KEY=\"maptile\";\nfunction aq(a,b){for(var c={},d=a[b+\"s\"][b],e=d.length;e--;)c[d[e].id]=d[e];a[b+\"s\"]=c}$p.prototype.Fh=function(){return this.bc};$p.prototype.ek=function(){return this.Ra};$p.prototype.getType=$p.prototype.ek;$p.prototype.Cc=function(){return this.cc};$p.prototype.getVersion=$p.prototype.Cc;$p.prototype.Si=function(a){this.cc=a};$p.prototype.ta=function(){this.Rf||(this.cc&&\"newest\"!==this.cc||\"traffic\"===this.Ra)&&this.Re();return this.Xc};$p.prototype.getCopyrights=$p.prototype.ta;n=$p.prototype;\nn.$i=function(a){a=a.response;var b;aq(a,\"map\");aq(a,\"scheme\");aq(a,\"tiletype\");aq(a,\"format\");aq(a,\"resolution\");aq(a,\"language\");if(\"newest\"===this.cc&&\"traffic\"!==this.Ra)for(b in a.maps)a.maps[b].hash&&a.maps[b].newest&&(this.Si(a.maps[b].hash),this.dispatchEvent(\"versionupdate\"));this.Lh=a;this.dispatchEvent(\"infoupdate\")};n.Zi=function(a){Hp(this.Xc,a);this.dispatchEvent(\"copyrightupdate\")};\nn.ph=function(){var a=this;var b=this.D().clone().F(\"info\").I({output:\"json\"});this.bc&&b.Ma(this.bc[0]);this.K(b,function(c){a.$i(c)},function(c){throw c;})};n.Re=function(){var a=this;var b=this.D().clone().F(\"copyright\").F(a.Cc()).I({output:\"json\"});this.bc&&b.Ma(this.bc[0]);this.Rf=1;this.K(b,function(c){a.Rf=2;a.Zi(c)},function(c){a.Rf=-1;throw c;})};n.xh=function(){return this.Lh};$p.prototype.getInfo=$p.prototype.xh;\n$p.prototype.Me=function(a,b,c,d,e,f){var g=this.D().clone().F(a+\"/\"+this.Cc()+\"/\"+b+\"/\"+c+\"/\"+d).I(e?e:{}).toString();var h=0,k,l=g.length;if(0!==l)for(k=0;k<l;k++){var m=g.charCodeAt(k);h=(h<<5)-h+m;h|=0}g=h;h=this.vi[g];h||(h=new Up(this,a,b,c,d,e,Fp({headers:this.gf},f||{})),this.vi[g]=h);return h};$p.prototype.createTileProvider=$p.prototype.Me;$p.prototype.wc=function(a,b,c,d,e,f,g,h){a=this.Me(a,b,c,d,e,h);return new ll(a,{opacity:f,dark:!!g})};$p.prototype.createTileLayer=$p.prototype.wc;\nY.prototype.Ah=function(a){return this.Ya($p,a)};Y.prototype.getMapTileService=Y.prototype.Ah;function bq(a,b,c){var d=this;c=c||{};var e=+c.min,f=+c.max;c.tileSize=c.tileSize||512;c.min=e?Yd(e,1,17):1;c.min+=Bk(c.tileSize,1);c.max=f?Yd(f,1,17):17;bq.l.constructor.call(this,c);C(a,cq,bq,0);C(b,Ph,bq,1);this.o=a;b.b&&b.b(\"OMV\");this.ac(b,!0);this.s=function(){dq(d);d.reload(!1)};a.addEventListener(\"versionupdate\",this.s);dq(this);bq.prototype.J=function(){var g=/^v2\\/vectortiles\\/(.+)\\/mc$/.exec(a.D().c);return g?g[1]:B+\"\"}()}u(bq,R);t(\"H.service.omv.Provider\",bq);bq.prototype.Ed=df;\nbq.prototype.providesOMV=bq.prototype.Ed;function dq(a){var b=a.yd(\"_#-;,:\",\"_#-;,:\",\"_#-;,:\");a.v=new RegExp(\"^\"+b.replace(/[.*+?^${}()|[\\]\\\\\\/]/g,\"\\\\$&\").replace(/_#-;,:/g,\"\\\\d+\")+\"$\")}bq.prototype.gc=function(a){return this.v.test(a)};bq.prototype.cacheFilter=bq.prototype.gc;bq.prototype.yd=function(a,b,c){return eq(this.o,a,b,c).toString()};bq.prototype.getTileKey=bq.prototype.yd;bq.prototype.Ob=function(){return this.N};bq.prototype.getCache=bq.prototype.Ob;bq.prototype.MAX_STORE_TIME=2592E6;\nbq.prototype.fh=function(){return ld()};bq.prototype.ge=function(){return ld()?kd():bq.l.ge.call(this)};bq.prototype.K=function(a,b,c,d,e){return this.o.jb(a,b,c,d,e)};bq.prototype.requestInternal=bq.prototype.K;bq.prototype.rc=function(a){a.b&&a.b(\"OMV\");this.ac(a)};bq.prototype.setStyle=bq.prototype.rc;bq.prototype.ua=function(){return bq.l.ub.apply(this)};bq.prototype.getStyle=bq.prototype.ua;\nbq.prototype.ub=function(){var a=bq.l.ub.apply(this),b;this.C&&(a.getState()===Qh.READY?(b=a.vd())&&b.global&&(this.c&&(b.global.ux_language=this.c),this.a&&(b.global.ux_language_fallback=this.a),a=new Th(b,a.hc())):a.load());return a};function fq(a,b,c){var d=a.ub().getState()===Qh.READY,e=zc(b),f=zc(c);e&&(a.c=b);f&&(a.a=c);if(e||f)a.C=!0,d&&a.g()}bq.prototype.u=function(){bq.l.u.call(this);this.o.removeEventListener(\"versionupdate\",this.s)};bq.prototype.N=new Dk(256);\nbq.prototype.ta=function(a,b){return Jp(this.o.ta(),this.J,b,a)};bq.prototype.getCopyrights=bq.prototype.ta;function cq(a){cq.l.constructor.call(this,cq,a);a=Wp(this,a).mapVersion;this.df=tc(a)?a:gq[this.D().toString()];tc(this.df)||hq(this)}u(cq,Vp);t(\"H.service.omv.Service\",cq);cq.prototype.a=function(){return{subDomain:\"vector\",path:\"v2/vectortiles/base/mc\"}};cq.CONFIG_KEY=\"omv\";var gq={};Fc(gq);cq.prototype.nn=function(){return this.df};cq.prototype.getMapVersion=cq.prototype.nn;\nfunction hq(a){a.K(a.D().clone().F(\"../../info\"),function(b){b=b.mapVersion;var c=a.D().toString();a.df=b;b!==gq[c]&&(gq[c]=b,a.dispatchEvent(\"versionupdate\"))},function(){})}cq.prototype.qd=function(a,b){return new ll(new bq(this,a,b),{max:22})};cq.prototype.createLayer=cq.prototype.qd;cq.prototype.jb=function(a,b,c,d,e){return this.K(eq(this,a,b,c),function(f){return f.arrayBuffer().then(d,e)},e,\"arraybuffer\")};\nfunction eq(a,b,c,d){b=a.D().clone().F(d+\"/\"+b+\"/\"+c+\"/omv\");tc(a.df)&&b.I({mv:a.df});return b}cq.prototype.he=function(a){return Tp().F(a)};cq.prototype.Ch=function(a,b){if(!Ca(a))throw new D(this.Ch,0,'\"onResult\" must be a function');if(!Ca(b))throw new D(this.Ch,1,'\"onError\" must be a function');return this.K(this.D().clone().Md(\"v2/vectortiles/pviews\"),a,b)};cq.prototype.getPoliticalViews=cq.prototype.Ch;Y.prototype.$j=function(a){return this.Ya(cq,a)};Y.prototype.getOMVService=Y.prototype.$j;\ncq.prototype.Re=function(){this.Xc=new Gp;this.K(this.D().clone().F(\"../../copyrights\"),A(this.Zi,this),hd)};cq.prototype.Zi=function(a){Hp(this.Xc,a);this.dispatchEvent(\"copyrightupdate\")};cq.prototype.ta=function(){this.Xc||this.Re();return this.Xc};cq.prototype.getCopyrights=cq.prototype.ta;Y.prototype.Sf=function(a,b,c,d,e,f){var g=this.Ah(),h=this.Ah({type:\"aerial\"}),k=this.dk(),l=this.$j(),m=Vj.WEBGL,p={},q={crossOrigin:\"anonymous\"};if(Da(a)){var r=a;\"crossOrigin\"in r&&(q.crossOrigin=r.crossOrigin);a=r.tileSize;b=r.ppi;c=r.lg;d=r.lg2;e=r.style;f=r.pois;r.engineType&&(m=r.engineType,q.engineType=m)}var v=a||512;if(0>[72,250,320,500].indexOf(+b)){if(b!==B)throw new D(this.Sf,1,b);}else p.ppi=+b;c&&(p.lg=c);d&&(p.lg2=d);e&&(p.style=e);f&&(p.pois=f);a=function(w,z,J,G,U){return w.wc(z,\nJ,v,G,p,1,U,q)};if(m===Vj.HARP&&!H.map.render.harp)throw new D(this.Sf,0,\"HARP engine is not supported, module not found\");b=m===Vj.WEBGL?new Th(l.he(\"omv/miami/normal.day.yaml\").toString()):new H.map.render.harp.Style(l.he(\"harp/oslo/normal.day.json\").toString());c=m===Vj.WEBGL?new Th(l.he(\"omv/miami/truck.day.yaml\").toString()):new H.map.render.harp.Style(l.he(\"harp/oslo/normal.day.json\").toString());d={engineType:m};b=l.qd(b,d);fq(b.ga(),p.lg,p.lg2);c=l.qd(c,d);fq(c.ga(),p.lg,p.lg2);l=k.zj(p.lg?\n{lg:p.lg,i18n:!0,engineType:m}:{engineType:m});return{vector:{normal:{map:b,truck:c,traffic:k.yj(void 0,m),trafficincidents:l}},raster:{normal:{xbase:a(g,\"xbasetile\",\"normal.day\",\"png8\",!1),xbasenight:a(g,\"xbasetile\",\"normal.night\",\"png8\",!0),base:a(g,\"basetile\",\"normal.day\",\"png8\",!1),basenight:a(g,\"basetile\",\"normal.night\",\"png8\",!0),map:a(g,\"maptile\",\"normal.day\",\"png8\",!1),mapnight:a(g,\"maptile\",\"normal.night\",\"png8\",!0),trafficincidents:l,transit:a(g,\"maptile\",\"normal.day.transit\",\"png8\",!1),\nlabels:a(g,\"labeltile\",\"normal.day\",\"png\",!1)},satellite:{xbase:a(h,\"xbasetile\",\"hybrid.day\",\"jpg\",!0),base:a(h,\"basetile\",\"hybrid.day\",\"jpg\",!0),map:a(h,\"maptile\",\"hybrid.day\",\"jpg\",!0),labels:a(h,\"labeltile\",\"hybrid.day\",\"png\",!0)},terrain:{xbase:a(h,\"xbasetile\",\"terrain.day\",\"jpg\",!1),base:a(h,\"basetile\",\"terrain.day\",\"jpg\",!1),map:a(h,\"maptile\",\"terrain.day\",\"jpg\",!1),labels:a(h,\"labeltile\",\"terrain.day\",\"png\",!1)}}}};Y.prototype.createDefaultLayers=Y.prototype.Sf;function iq(){this.a={}}iq.prototype.Cb=function(a,b){var c=a+b,d;if(d=this.a[c])return d;a=jq.MARKER.replace(\"{{icon}}\",kq[a]||kq.OTHER);a=a.replace(\"{{color}}\",lq[b]||lq.BLOCKING);b={size:{w:26,h:33},anchor:{x:13,y:30},hitArea:new Li(Mi.POLYGON,mq.MARKER)};return this.a[c]=d=new Ij(a,b)};\nvar jq={MARKER:'<svg width=\"26\" height=\"33\" enable-background=\"new 0 0 26 33\" viewBox=\"0 0 26 33\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"m26 33h-26v-33h26z\" fill=\"#8c8c8c\" opacity=\"0\"/><path d=\"m17 29.566c0 1.116-1.791 2.022-4 2.022s-4-.906-4-2.022c0-1.118 1.791-2.026 4-2.026s4 .908 4 2.026\" fill=\"#878787\" opacity=\".6\"/><path d=\"m1.795 17.971c-1.562-1.555-1.574-3.828-.028-5.655l8.343-10.021c.769-.895 1.795-1.384 2.894-1.384 1.117 0 2.197.521 2.889 1.394l8.338 10.014c1.588 1.854 1.578 4.022-.029 5.65l-11.202 11.202z\" fill=\"{{color}}\"/>{{icon}}</svg>'},kq=\n{CONGESTION:'<path style=\"fill:#FFFFFF;\" d=\"M12.966,1.177c0.965,0,1.894,0.442,2.496,1.204l8.378,10.258c1.362,1.592,1.482,3.477,0,4.979L12.994,28.464L2.143,17.618c-1.381-1.375-1.38-3.348,0-4.979l8.314-10.258C11.174,1.547,12.085,1.177,12.966,1.177 M12.967,0.177L12.967,0.177c-1.247,0-2.408,0.551-3.269,1.552l-8.332,10.28c-1.711,2.022-1.688,4.567,0.07,6.317l10.85,10.845l0.707,0.707l0.707-0.707l10.847-10.846c1.784-1.807,1.803-4.292,0.053-6.337L16.237,1.748C15.462,0.769,14.236,0.177,12.967,0.177L12.967,0.177z M16.645,10.405l-2.025-2.22c-0.48-0.51-1.15-0.8-1.84-0.8H9.53c-0.69,0-1.36,0.29-1.84,0.8l-1.94,2.22c-0.39,0.63-0.59,1.35-0.59,2.09v1.64c0,0.69,0.56,1.25,1.25,1.25h1.44l0.255-0.539c0.204-0.431,0.456-0.837,0.753-1.21l0.962-1.211l0.83-0.9c0.32-0.35,0.72-0.63,1.15-0.82H8.23c-0.28,0-0.55-0.07-0.79-0.22l-0.28-0.17l1.27-1.45c0.28-0.31,0.68-0.48,1.1-0.48h3.25c0.42,0,0.82,0.17,1.1,0.48l1.354,1.54H16.645z M18.31,12.205c-0.35-0.37-0.81-0.63-1.3-0.74c-0.18-0.04-0.36-0.06-0.54-0.06h-3.24c-0.7,0-1.37,0.29-1.84,0.8l-1.13,1.22l-0.82,1c-0.38,0.63-0.59,1.35-0.59,2.09v1.64c0,0.69,0.56,1.25,1.25,1.25h1.75v-1h5.99v1h1.75c0.69,0,1.25-0.56,1.25-1.25v-1.64c0-0.74-0.2-1.46-0.59-2.09L18.31,12.205z M12.1,17.105h-1c-0.138,0-0.25-0.112-0.25-0.25v-1c0-0.138,0.112-0.25,0.25-0.25h1c0.138,0,0.25,0.112,0.25,0.25v1C12.35,16.993,12.238,17.105,12.1,17.105z M18.59,17.105h-1c-0.138,0-0.25-0.112-0.25-0.25v-1c0-0.138,0.112-0.25,0.25-0.25h1c0.138,0,0.25,0.112,0.25,0.25v1C18.84,16.993,18.728,17.105,18.59,17.105z M18.56,14.505c-0.24,0.15-0.51,0.22-0.79,0.22h-5.85c-0.28,0-0.55-0.07-0.78-0.22l-0.29-0.17l1.27-1.45c0.15-0.16,0.33-0.28,0.53-0.37c0.18-0.07,0.38-0.11,0.58-0.11h3.24c0.24,0,0.48,0.06,0.68,0.16c0.16,0.08,0.3,0.19,0.42,0.32l1.27,1.45L18.56,14.505z M8.42,13.03h-1c-0.138,0-0.25-0.112-0.25-0.25v-1c0-0.138,0.112-0.25,0.25-0.25h1c0.138,0,0.25,0.112,0.25,0.25v1C8.67,12.918,8.559,13.03,8.42,13.03z\"/>',\nROADWORKS:'<path d=\"m13.004 1.411c.964 0 1.894.441 2.496 1.204l8.346 10.023c1.363 1.592 1.482 3.477 0 4.979l-10.846 10.847-10.852-10.846c-1.381-1.375-1.379-3.348 0-4.979l8.346-10.023c.717-.835 1.628-1.205 2.51-1.205m0-1c-1.248 0-2.408.551-3.268 1.552l-8.356 10.035c-1.718 2.033-1.695 4.578.064 6.328l10.85 10.845.706.707.707-.707 10.846-10.846c1.784-1.808 1.803-4.293.053-6.337l-8.337-10.012c-.769-.973-1.996-1.565-3.265-1.565zm-.575 15.264c.018-.332-.13-.651-.394-.851l-2.945-2.235-.21.36c-.22.39-.41.78-.58 1.19l-.677 2.129-1.364 3.051h1.314l2.109-4.672 1.317 1.212.138 3.46h1.092zm6.16-1.327c-.401-.54-1.209-.539-1.609.001l-1.17 1.58-2.29-1.74-.139-4.054c-.011-.276-.134-.535-.342-.716l-.7-.61c-.185-.161-.422-.25-.667-.25h-1.885c-.335 0-.648.168-.833.447l-1.144 1.723 7.58 5.76-1.86 2.51c-.098.132-.004.32.161.32h6.648l1.142-1.077zm-8.79-2.989-.876-.665.841-1.018.965.043zm1.63 1.24.969-1.781.118 2.61zm2.76-5.79c-.64 0-1.16.52-1.16 1.16 0 .65.52 1.17 1.16 1.17s1.16-.52 1.16-1.17c0-.64-.52-1.16-1.16-1.16z\" fill=\"#fff\"/>',\nACCIDENT:'<path style=\"fill:#FFFFFF;\" d=\"M12.998,1.091c0.964,0,1.894,0.442,2.496,1.204l8.346,10.344c1.363,1.592,1.482,3.477,0,4.979L12.994,28.465L2.143,17.618c-1.381-1.375-1.379-3.348,0-4.979l8.346-10.344C11.205,1.462,12.115,1.091,12.998,1.091 M12.998,0.091L12.998,0.091c-1.248,0-2.408,0.551-3.269,1.552L1.364,12.011c-1.708,2.021-1.685,4.566,0.073,6.316l10.85,10.845l0.707,0.707l0.707-0.707l10.846-10.846c1.784-1.808,1.803-4.293,0.053-6.337l-8.327-10.32C15.494,0.684,14.268,0.091,12.998,0.091L12.998,0.091z M7.83,18.982l-3.309-1.855l0.945,1.855H7.83z M16.111,19h3.942l1.596-2L16.111,19z M10.512,20.064l1.021-1.021l1.632,0.076c0.329,0.018,0.651-0.022,0.963-0.123c0.626-0.206,1.122-0.76,1.288-1.44l0.264-1.089l2.066-0.93c0.373-0.17,0.673-0.42,0.861-0.731c0.275-0.449,0.405-0.97,0.369-1.498L18.9,11.676l1.021-1.021l-0.724-0.724l-0.427,0.427l-0.121-0.364c-0.201-0.603-0.54-1.151-0.989-1.6l-1.159-1.159c-0.5-0.5-1.31-0.5-1.809,0l-1.267,1.267l0.724,0.724l-5.066,5.066l-0.724-0.724l-1.267,1.267c-0.5,0.5-0.5,1.31,0,1.809l1.159,1.159c0.449,0.449,0.997,0.788,1.6,0.989l0.364,0.121l-0.427,0.427L10.512,20.064z M14.901,10.349l0.732-0.732c0.098-0.098,0.256-0.098,0.354,0l0.732,0.732c0.098,0.098,0.098,0.256,0,0.354l-0.732,0.732c-0.098,0.098-0.256,0.098-0.354,0l-0.732-0.732C14.803,10.604,14.803,10.446,14.901,10.349z M9.472,15.777l0.732-0.732c0.098-0.098,0.256-0.098,0.354,0l0.732,0.732c0.098,0.098,0.098,0.256,0,0.354l-0.732,0.732c-0.098,0.098-0.256,0.098-0.354,0L9.472,16.13C9.375,16.033,9.375,15.874,9.472,15.777z M11.391,17.615c0.069-0.271,0.206-0.518,0.405-0.717l4.961-4.961c0.195-0.195,0.445-0.337,0.717-0.405l0.344-0.083l0.137,1.925c0.022,0.318-0.058,0.63-0.221,0.901c-0.101,0.166-0.279,0.271-0.409,0.329L14.8,15.74l-0.38,1.574c-0.083,0.344-0.318,0.615-0.612,0.713c-0.188,0.058-0.38,0.083-0.579,0.072l-1.925-0.138L11.391,17.615z\"/>',\nOTHER:'<path style=\"fill:#FFFFFF;\" d=\"M13.004,1.411c0.964,0,1.894,0.441,2.496,1.204l8.346,10.023c1.363,1.592,1.482,3.477,0,4.979L13,28.465L2.148,17.618c-1.381-1.375-1.379-3.348,0-4.979l8.346-10.023C11.211,1.781,12.122,1.411,13.004,1.411 M13.004,0.411L13.004,0.411c-1.248,0-2.408,0.551-3.268,1.552L1.38,11.998c-1.718,2.033-1.694,4.579,0.064,6.328l10.85,10.845L13,29.878l0.707-0.707l10.846-10.846c1.784-1.808,1.803-4.293,0.053-6.337L16.269,1.976C15.5,1.003,14.273,0.411,13.004,0.411L13.004,0.411z M14.716,20.139c0,0.947-0.758,1.724-1.724,1.724c-0.947,0-1.704-0.777-1.704-1.724c0-0.928,0.757-1.704,1.704-1.704C13.958,18.435,14.716,19.211,14.716,20.139z M14.204,16.33H11.78l-0.537-8.533h3.5L14.204,16.33z\"/>'},\nlq={BLOCKING:\"#323232\",VERYHIGH:\"#d5232f\",HIGH:\"#ffa100\"},mq={MARKER:[24.1,17.8,14.2,28.42,16.8,29.4,12.8,31.4,8.79,29.4,11.23,28.42,1.7,17.8,1.7,12.1,10,1.9,12.9,.498,15.8,1.9,24.1,12.1,24.1,17.8]};function nq(a,b,c){c=c?c:{};c.criticality||(c.criticality=\"major,critical\");C(a,oq,nq,0);An.call(this,{max:20,min:8,requestData:A(this.W,this),engineType:c.engineType});this.s=new iq;this.C=a;this.a=c;this.reload=A(this.reload,this);this.v=setInterval(this.reload,b||18E4)}u(nq,An);t(\"H.service.traffic.incidents.Provider\",nq);nq.prototype.c={minor:\"HIGH\",\"low impact\":\"HIGH\",major:\"VERYHIGH\",critical:\"BLOCKING\"};\nnq.prototype.W=function(a,b,c,d,e){var f=this,g=this.c,h=this.s;return this.C.requestIncidentsByTile(a,b,c,function(k){var l=[];k=k.TRAFFIC_ITEMS;var m;if(k)for(k=k.TRAFFIC_ITEM,m=k.length;m--;){var p=k[m];var q=p.TRAFFIC_ITEM_TYPE_DESC;switch(q){case \"ACCIDENT\":case \"CONGESTION\":var r=q;break;case \"CONSTRUCTION\":r=\"ROADWORKS\";break;default:r=\"OTHER\"}r=h.Cb(r,g[p.CRITICALITY.DESCRIPTION]);q=p.LOCATION.GEOLOC.ORIGIN;q=new yn({lat:q.LATITUDE,lng:q.LONGITUDE},{provider:f,icon:r});q.setData(p);l.push(q)}d(l)},\ne,this.a)};nq.prototype.B=function(){An.prototype.B.call(this);clearInterval(this.v)};var pq=\"A21 A22 F01 F02 F08 F04 F05 F07 F03 F06 A2F F13 A25 A2C F12 D1B F1B A27 E12 A3A A24 A3D A3F F1F F25 F2C E32 A33 F29 D26 D36 F26 D0F F0F F2B E0C D3A A45 D23 D11 F2E F19 F14 F39 A4A A4B A5C D38 F2A F1A D0A F1C A48 D25 D1D F32 A46 A3E D24 E1C E32 A5F D2E D22 D0A\".split(\" \");function qq(a,b){var c={};this.a=a;Wa(c,b||c);ak.call(this,c);this.zg={};a=this.Pb(Pg.SPATIAL);a.update(a.a+1,Mg.ADD)}u(qq,ak);t(\"H.service.remote.ObjectProvider\",qq);qq.prototype.B=function(){ak.prototype.B.call(this)};qq.prototype.Lc=function(){return ff};qq.prototype.requestMarkers=qq.prototype.Lc;qq.prototype.Kc=function(){return ff};qq.prototype.requestDomMarkers=qq.prototype.Kc;qq.prototype.Hd=function(){return ff};qq.prototype.requestOverlays=qq.prototype.Hd;qq.prototype.Wb=df;\nqq.prototype.providesMarkers=qq.prototype.Wb;qq.prototype.Vb=df;qq.prototype.providesDomMarkers=qq.prototype.Vb;qq.prototype.Jc=df;qq.prototype.providesSpatials=qq.prototype.Jc;qq.prototype.Ag=function(){return ff};qq.prototype.requestSpatials=qq.prototype.Ag;function rq(a){return a.Dc(!0)}qq.prototype.Bg=function(a,b){a=sq(this,a,tq);b&&(a=a.filter(rq));return a};qq.prototype.requestSpatialsByTile=qq.prototype.Bg;\nfunction sq(a,b,c){var d=b.j&&b.j[c],e;!d&&(e=b.m)&&(delete b.m,(b.j=a=a.a.parse(a,b,e))&&(d=a[c]));return d||ff}qq.prototype.ea=function(a){var b=a.gb();if(this.zg[b])throw new Xc(this.ea,\"Remote object \"+b+\" already added\");return this.zg[b]=a};qq.prototype.Ia=function(a){delete this.zg[a.gb()]};var tq=\"spatials\";function uq(a,b,c,d){uq.l.constructor.call(this,{min:vq,max:wq,engineType:d});C(a,oq,uq,0);this.s=a;this.a=c||xq;this.a.responseattributes=\"sh,fc\";this.c=setInterval(A(this.reload,this),b||18E4);this.f===Vj.WEBGL?this.ac(new Th(a.he(\"traffic/flow.yaml\").toString()),!0):this.ac(new H.map.render.harp.Style({styles:[{when:[\"==\",[\"geometry-type\"],\"LineString\"],technique:\"solid-line\",renderOrder:10002,attr:{color:[\"case\",[\">=\",[\"get\",\"JF\"],10],\"black\",[\">=\",[\"get\",\"JF\"],8],\"red\",[\">=\",[\"get\",\"JF\"],4],\n\"yellow\",\"green\"],lineWidth:3,metricUnit:\"Pixel\"}}]}))}u(uq,R);t(\"H.service.traffic.flow.Provider\",uq);uq.prototype.xi=df;uq.prototype.providesGeoJSON=uq.prototype.xi;uq.prototype.ua=function(){return this.ub()};uq.prototype.getStyle=uq.prototype.ua;uq.prototype.rc=function(a){a.b&&a.b(\"GeoJSONTileSource\");this.ac(a)};uq.prototype.setStyle=uq.prototype.rc;var xq={locationreferences:\"tmc,shp\"};uq.prototype.u=function(){uq.l.u.call(this);clearInterval(this.c)};\nuq.prototype.K=function(a,b,c,d,e){return this.s.requestFlowByTile(a,b,c,function(f){f.type&&-1!==f.type.indexOf(\"Error\")?e(f.Details):d(f)},e,this.a)};uq.prototype.requestInternal=uq.prototype.K;\nuq.prototype.rd=function(a,b,c,d,e){var f,g,h,k,l={type:\"FeatureCollection\",features:[]},m;var p=d.RWS.length;for(f=0;f<p;f++){var q=d.RWS[f];var r=q.RW;var v=r.length;var w=-1!==pq.indexOf(q.EXTENDED_COUNTRY_CODE+q.EBU_COUNTRY_CODE);for(q=0;q<v;q++){var z=r[q].FIS;var J=z.length;for(z=0;z<J;z++){var G=r[q].FIS[z].FI;var U=G.length;for(g=0;g<U;g++){var X=G[g];var xa=[];var ia=X.CF[0];var gc=!!ia.SSS;var wb={type:\"Feature\",properties:ia,geometry:{type:\"MultiLineString\",coordinates:xa}};wb.properties.LHT=\nw;X.SHP.length&&(wb.properties.FC=X.SHP[0].FC);gc&&(m=[]);for(ia=0;ia<X.SHP.length;ia++){var md=X.SHP[ia].value;var yi=md.length;for(h=0;h<yi;h++){var Qe=gc?m:void 0,Xb=new $n(md[h].trim()),Xf=[],cd={};for(Xb.ze();-1!==(k=Xb.Tb());)k===yq?(cd.lat=+String.fromCharCode.apply(uq,Xb.Ud()),Xb.next(),Xb.ze()):k===zq?(cd.lng=+String.fromCharCode.apply(uq,Xb.Ud()),Xf.push([cd.lng,cd.lat]),Qe&&Qe.push(Zf(cd)),cd=[],Xb.next(),Xb.ze()):Xb.next();cd.lng=+String.fromCharCode.apply(uq,Xb.Ud());Xf.push([cd.lng,\ncd.lat]);Qe&&Qe.push(Zf(cd));k=Xf;xa.push(k)}}l.features.push(wb)}}}}return uq.l.rd.call(this,a,b,c,l,e)};uq.prototype.createTileInternal=uq.prototype.rd;var wq=21,vq=10,zq=32,yq=44;function Aq(a){function b(m){d.contains(e)&&d.removeChild(e);l&&clearTimeout(l);delete Aq.a[f];m&&a.Kj&&a.Kj.call(k,m)}if(!a.url||!a.eh)throw Error('Parameter \"options\" must specify at least a URL and a callback.');if(\"function\"!==typeof a.eh)throw Error(\"Parameters options.callback must be a function\");var c=a.Ap||document;var d=c.getElementsByTagName(\"head\")[0];var e=c.createElement(\"script\");c=a.url instanceof W?a.url:Kp(a.url,a.zp);var f=Aq.b++;var g=a.jm||\"callback\";var h=a.eh;var k={};var l=\nnull;k.id=f;k.cancel=function(){b(\"cancelled\")};0!==a.timeout&&(l=x.setTimeout(function(){b(\"timeout\")},a.timeout||3E4));Aq.a[f]=function(m){b();h.call(k,m)};e.type=\"text/javascript\";e.src=c.toString()+(c.jk()?\"&\":\"?\")+g+\"=\"+(a.Bp?\"H.service.jsonp.handleResponse(\"+f+\")\":encodeURI(\"H.service.jsonp.handleResponse(\"+f+\")\"));d.appendChild(e);return k}t(\"H.service.jsonp\",Aq);Aq.Yn=function(a){return(a=Aq.a[a])?a:function(){}};Aq.handleResponse=Aq.Yn;Aq.b=0;Aq.a={};function oq(a){oq.l.constructor.call(this,oq,a);this.km=Wp(this,a).callbackKey}u(oq,Vp);t(\"H.service.traffic.Service\",oq);oq.prototype.a=function(){return{subDomain:\"traffic.ls\",path:\"traffic/6.1\",callbackKey:\"jsoncallback\"}};oq.CONFIG_KEY=\"traffic\";oq.prototype.yj=function(a,b){return new ll(new uq(this,void 0,a,b),{max:22})};oq.prototype.createFlowLayer=oq.prototype.yj;oq.prototype.zj=function(a){return new Bn(new nq(this,void 0,a))};oq.prototype.createIncidentsLayer=oq.prototype.zj;\nfunction Bq(a,b,c,d){return Aq({url:b,eh:c,Kj:function(e){d(Error(\"[\"+e+\"] \"+b+\" request failed\"))},jm:a.km})}oq.prototype.Xo=function(a,b,c){a=this.D().clone().F(\"incidents.json\").I(a);return Bq(this,a,b,c)};oq.prototype.requestIncidents=oq.prototype.Xo;oq.prototype.Wo=function(a,b,c,d,e,f){a=this.D().clone().F([\"flow/json\",c,a,b].join(\"/\")).I(f||{});return Bq(this,a,d,e)};oq.prototype.requestFlowByTile=oq.prototype.Wo;\noq.prototype.Yo=function(a,b,c,d,e,f){a=this.D().clone().F([\"incidents/json\",c,a,b].join(\"/\")).I(f||{});return Bq(this,a,d,e)};oq.prototype.requestIncidentsByTile=oq.prototype.Yo;oq.prototype.he=function(a){return Tp().F(a)};Y.prototype.dk=function(a){return this.Ya(oq,a)};Y.prototype.getTrafficService=Y.prototype.dk;function Cq(a){Cq.l.constructor.call(this,Cq,a);this.ol=Wp(this,a).reverseSubDomain}u(Cq,Vp);t(\"H.service.GeocodingService\",Cq);Cq.prototype.a=function(){return{subDomain:\"geocoder.ls\",reverseSubDomain:\"reverse\",path:\"6.2\"}};Cq.CONFIG_KEY=\"geocoding\";Cq.prototype.b=function(a){return Error(a.Details||a.message||a.error)};Cq.prototype.rh=function(a,b,c){a=this.D().clone().F(\"geocode.json\").I(a);return this.K(a,b,c)};Cq.prototype.geocode=Cq.prototype.rh;\nCq.prototype.Bi=function(a,b,c){a=this.D().clone().F(\"reversegeocode.json\").I(a);this.ol&&a.Ma(this.ol);return this.K(a,b,c)};Cq.prototype.reverseGeocode=Cq.prototype.Bi;Cq.prototype.search=function(a,b,c){a=this.D().clone().F(\"search.json\").I(a);return this.K(a,b,c)};Cq.prototype.search=Cq.prototype.search;Y.prototype.Ym=function(a){return this.Ya(Cq,a)};Y.prototype.getGeocodingService=Y.prototype.Ym;function Dq(a){Dq.l.constructor.call(this,Dq,a)}u(Dq,Vp);t(\"H.service.PlacesService\",Dq);Dq.prototype.a=function(){return{subDomain:\"places.ls\",path:\"places/v1\"}};Dq.CONFIG_KEY=\"places\";Dq.EntryPoint={SEARCH:\"discover/search\",SUGGEST:\"suggest\",EXPLORE:\"discover/explore\",AROUND:\"discover/around\",HERE:\"discover/here\",CATEGORIES:\"categories/places\"};Dq.prototype.request=function(a,b,c,d){return this.T(a,b,c,d)};\nDq.prototype.T=function(a,b,c,d){a=this.D().clone().F(a).I(b||{});return this.K(a,c,d)};Dq.prototype.search=function(a,b,c){return this.T(\"discover/search\",a,b,c)};Dq.prototype.search=Dq.prototype.search;Dq.prototype.ip=function(a,b,c){return this.T(\"suggest\",a,b,c)};Dq.prototype.suggest=Dq.prototype.ip;Dq.prototype.um=function(a,b,c){return this.T(\"discover/explore\",a,b,c)};Dq.prototype.explore=Dq.prototype.um;Dq.prototype.fm=function(a,b,c){return this.T(\"discover/around\",a,b,c)};\nDq.prototype.around=Dq.prototype.fm;Dq.prototype.$n=function(a,b,c){return this.T(\"discover/here\",a,b,c)};Dq.prototype.here=Dq.prototype.$n;Dq.prototype.lm=function(a,b,c){return this.T(\"categories/places\",a,b,c)};Dq.prototype.categories=Dq.prototype.lm;Dq.prototype.wm=function(a,b,c,d){a=Kp(a).I(this.D().getQuery()).I(d||{});return this.K(a,b,c)};Dq.prototype.follow=Dq.prototype.wm;Y.prototype.vn=function(a){return this.Ya(Dq,a)};Y.prototype.getPlacesService=Y.prototype.vn;function Eq(a){Eq.l.constructor.call(this,Eq,a);this.f=a.getToken}u(Eq,Vp);t(\"H.service.iml.Service\",Eq);Eq.prototype.a=function(){return{host:\"interactive.data.api.platform.here.com\",path:\"interactive/v1/catalogs\"}};\nEq.prototype.b=function(a){function b(){for(var d=ea(c),e=d.next();!e.done;e=d.next()){e=e.value;var f=e.format;if(e.keys.every(function(g){return a[g]}))return f()}return JSON.stringify(a)}var c=[{keys:[\"code\",\"title\",\"cause\",\"action\"],format:function(){return a.code+\": \"+a.title+\"; cause: \"+a.cause+\"; action: \"+a.action}},{keys:[\"error\",\"error_description\"],format:function(){return a.error+\": \"+a.error_description}},{keys:[\"error\",\"errorMessage\"],format:function(){return a.error+\": \"+a.errorMessage}}];\nreturn Error(Da(a)?b():a)};Eq.prototype.fe=function(a,b,c,d,e){var f=this.fe;Fq(f,0,a,b);Gq(f,2,c,d);a=this.D().clone().F(a+\"/layers/\"+b+\"/statistics\").I(e||{});return this.T(a,\"GET\",c,d)};Eq.prototype.getStatistics=Eq.prototype.fe;Eq.prototype.$f=function(a,b,c,d,e,f,g,h,k){var l=k?\"\":\".mvtf\";a=this.D().clone().F(d+\"/layers/\"+e+\"/tile/web/\"+c+\"_\"+a+\"_\"+b+l).I(Object.assign({clip:!0},h));return this.T(a,\"GET\",k?f:function(m){return m.arrayBuffer().then(f)},g,void 0,k?\"application/json\":\"arraybuffer\")};\nEq.prototype.getFeaturesByTile=Eq.prototype.$f;Eq.prototype.Sj=function(a,b,c,d,e,f){var g=this.Sj;Hq(g,a);Fq(g,1,b,c);Gq(g,3,d,e);a=Iq(this,a,b,c,f);return this.T(a,\"GET\",d,e)};Eq.prototype.getFeatureById=Eq.prototype.Sj;Eq.prototype.cd=function(a,b,c,d,e,f){var g=this.cd;Jq(g,a);Fq(g,1,b,c);Gq(g,3,d,e);a=Kq(this,a,b,c,f);return this.T(a,\"GET\",d,e)};Eq.prototype.getFeaturesById=Eq.prototype.cd;\nEq.prototype.Zd=function(a,b,c,d,e){var f=this.Zd;if(!Da(a)||!(a.bbox||a.north&&a.east&&a.south&&a.west))throw new D(f,0,'must be an object with either \"bbox\" or a full set of \"north\", \"east\", \"south\" and \"west\"');Fq(f,1,b,c);Gq(f,3,d,e);a=this.D().clone().F(b+\"/layers/\"+c+\"/bbox\").I(a);return this.T(a,\"GET\",d,e)};Eq.prototype.getFeaturesByBoundingBox=Eq.prototype.Zd;\nEq.prototype.Uj=function(a,b,c,d,e){var f=this.Uj;if(!(Da(a)&&a.radius&&(a.lat&&(a.lng||a.lon)||a.refCatalogHrn&&a.refLayerId&&a.refFeatureId)))throw new D(f,0,'must be an object with \"radius\" and a combination of either \"lat\"+\"lng\" or \"refCatalogHrn\"+\"refLayerId\"+\"refFeatureId\"');Fq(f,1,b,c);Gq(f,3,d,e);a=this.D().clone().F(b+\"/layers/\"+c+\"/spatial\").I(a);return this.T(a,\"GET\",d,e)};Eq.prototype.getFeaturesByPointAndRadius=Eq.prototype.Uj;\nEq.prototype.Tj=function(a,b,c,d,e,f){var g=this.Tj;if(!Da(a)||!a.radius)throw new D(g,0,'must be an object with \"radius\"');Lq(g,1,b);Fq(g,2,c,d);Gq(g,4,e,f);a=this.D().clone().F(c+\"/layers/\"+d+\"/spatial\").I(a);return this.T(a,\"POST\",e,f,b)};Eq.prototype.getFeaturesByGeometryAndRadius=Eq.prototype.Tj;Eq.prototype.pl=function(a,b,c,d,e){var f=this.pl;Fq(f,0,a,b);Gq(f,2,c,d);a=this.D().clone().F(a+\"/layers/\"+b+\"/search\").I(e||{});return this.T(a,\"GET\",c,d)};Eq.prototype.searchFeatures=Eq.prototype.pl;\nEq.prototype.uk=function(a,b,c,d,e){var f=this.uk;Fq(f,0,a,b);Gq(f,2,c,d);a=this.D().clone().F(a+\"/layers/\"+b+\"/iterate\").I(e||{});return this.T(a,\"GET\",c,d)};Eq.prototype.iterateFeatures=Eq.prototype.uk;Eq.prototype.kd=function(a,b,c,d,e,f){var g=this.kd;Lq(g,0,a);Fq(g,1,b,c);Gq(g,3,d,e);b=Mq(this,b,c,f);return this.T(b,\"PUT\",d,e,a)};Eq.prototype.putFeatures=Eq.prototype.kd;\nEq.prototype.hd=function(a,b,c,d,e,f){var g=this.hd;Lq(g,0,a);Fq(g,1,b,c);Gq(g,3,d,e);b=Mq(this,b,c,f);return this.T(b,\"POST\",d,e,a)};Eq.prototype.postFeatures=Eq.prototype.hd;Eq.prototype.sd=function(a,b,c,d,e){var f=this.sd;Jq(f,a);Fq(f,1,b,c);Gq(f,3,d,e);a=Kq(this,a,b,c);return this.T(a,\"DELETE\",d,e)};Eq.prototype.deleteFeatures=Eq.prototype.sd;Eq.prototype.fl=function(a,b,c,d,e,f,g){var h=this.fl;Hq(h,a);Lq(h,1,b);Fq(h,2,c,d);Gq(h,4,e,f);a=Iq(this,a,c,d,g);return this.T(a,\"PUT\",e,f,b)};\nEq.prototype.putFeature=Eq.prototype.fl;Eq.prototype.Zk=function(a,b,c,d,e,f,g){var h=this.Zk;Hq(h,a);Lq(h,1,b);Fq(h,2,c,d);Gq(h,4,e,f);a=Iq(this,a,c,d,g);return this.T(a,\"PATCH\",e,f,b)};Eq.prototype.patchFeature=Eq.prototype.Zk;Eq.prototype.Dj=function(a,b,c,d,e){var f=this.Dj;Hq(f,a);Fq(f,1,b,c);Gq(f,3,d,e);a=Iq(this,a,b,c);return this.T(a,\"DELETE\",d,e,void 0,\"text/plain\")};Eq.prototype.deleteFeature=Eq.prototype.Dj;\nfunction Mq(a,b,c,d){return a.D().clone().F(b+\"/layers/\"+c+\"/features\").I(d||{})}function Kq(a,b,c,d,e){b=Object.assign({},e,{id:new Op(b)});return Mq(a,c,d,b)}function Iq(a,b,c,d,e){return a.D().clone().F(c+\"/layers/\"+d+\"/features/\"+b).I(e||{})}\nEq.prototype.T=function(a,b,c,d,e,f){f=void 0===f?\"application/json\":f;b={method:b,headers:Object.assign({},e?{\"Content-Type\":\"application/geo+json\"}:void 0,\"function\"===typeof this.f?{Authorization:\"Bearer \"+this.f()}:void 0,this.gf)};e&&(b.data=JSON.stringify(e));e=new rf(f,a.toString(),fe,b);e.then(c,Xp(this,a,d));return e};Eq.CONFIG_KEY=\"iml\";function Fq(a,b,c,d){wc(c,\"String\",a,b,\"must be a string\");wc(d,\"String\",a,b+1,\"must be a string\")}\nfunction Hq(a,b){wc(b,\"String\",a,0,\"must be a string\")}function Jq(a,b){if(!Array.isArray(b)||0===b.length||b.some(function(c){return\"string\"!==typeof c}))throw new D(a,0,\"must be a non-empty array of strings\");}function Lq(a,b,c){if(!Da(c))throw new D(a,b,\"must be a GeoJSON object\");}function Gq(a,b,c,d){if(!Ca(c))throw new D(a,b,\"must be a function\");if(!Ca(d))throw new D(a,b+1,\"must be a function\");}Y.prototype.cn=function(a){return this.Ya(Eq,a)};Y.prototype.getIMLService=Y.prototype.cn;function Nq(a,b,c,d){Nq.l.constructor.call(this,d?{min:d.min,max:d.max,engineType:d.engineType}:void 0);C(a,Eq,Nq,0);if(!zc(b))throw new D(Nq,1,'\"catalogHrn\" must be a string');if(!zc(c))throw new D(Nq,2,'\"layerId\" must be a string');this.v=a;this.a=b;this.c=c;this.s=Da(d)&&Da(d.parameters)?d.parameters:{};this.ac(this.f===Vj.WEBGL?new Th({sources:{iml:{type:\"MVT\"}},layers:{iml:{data:{source:\"iml\",layer:this.a+\":\"+this.c},points:{filter:{$geometry:\"point\"},draw:{points:{collide:!1,order:200,color:\"#92CF48\",\nsize:[[10,\"8px\"],[14,\"12px\"],[18,\"16px\"]]}}},polygons:{filter:{$geometry:\"polygon\"},draw:{polygons:{order:201,color:\"#E39E3C\"},lines:{order:202,color:\"#755DA5\",width:\"1px\"}}},lines:{filter:{$geometry:\"line\"},draw:{lines:{order:203,color:\"#0258AE\",width:\"2px\",join:\"round\",cap:\"round\"}}}}}}):new H.map.render.harp.Style({styles:[{layer:this.a+\":\"+this.c,when:[\"==\",[\"geometry-type\"],\"Point\"],technique:\"circles\",renderOrder:200,color:\"#92CF48\",size:[\"interpolate\",[\"linear\"],[\"zoom\"],10,8,14,12,18,16]},\n{layer:this.a+\":\"+this.c,when:[\"==\",[\"geometry-type\"],\"Polygon\"],technique:\"fill\",color:\"#E39E3C\",renderOrder:201},{layer:this.a+\":\"+this.c,when:[\"==\",[\"geometry-type\"],\"Polygon\"],technique:\"solid-line\",color:\"#755DA5\",lineWidth:\"1px\",renderOrder:202},{layer:this.a+\":\"+this.c,when:[\"==\",[\"geometry-type\"],\"LineString\"],technique:\"solid-line\",color:\"#0258AE\",lineWidth:\"2px\",renderOrder:203}]}))}u(Nq,R);t(\"H.service.iml.Provider\",Nq);\nNq.prototype.K=function(a,b,c,d,e){return this.v.$f(a,b,c,this.a,this.c,d,e,this.s)};Nq.prototype.requestInternal=Nq.prototype.K;Nq.prototype.Ed=df;Nq.prototype.providesOMV=Nq.prototype.Ed;Nq.prototype.ua=function(){return this.ub()};Nq.prototype.getStyle=Nq.prototype.ua;Nq.prototype.rc=function(a){C(a,Th)&&a.b(\"MVT\");this.ac(a)};Nq.prototype.setStyle=Nq.prototype.rc;function Oq(a){Oq.l.constructor.call(this,Oq,a)}u(Oq,Vp);t(\"H.service.publicTransit.Service\",Oq);Oq.prototype.a=function(){return{subDomain:\"transit.router\",path:\"v8\"}};Oq.CONFIG_KEY=\"publicTransit\";Oq.prototype.Fn=function(a,b,c){a=this.D().clone().F(\"routes\").I(a);return this.K(a,b,c)};Oq.prototype.getRoutes=Oq.prototype.Fn;Oq.prototype.Qm=function(a,b,c){a=this.D().clone().F(\"departures\").I(a);return this.K(a,b,c)};Oq.prototype.getDepartures=Oq.prototype.Qm;\nOq.prototype.Jn=function(a,b,c){a=this.D().clone().F(\"stations\").I(a);return this.K(a,b,c)};Oq.prototype.getStations=Oq.prototype.Jn;Oq.prototype.b=function(a){return Error(JSON.stringify(a))};Y.prototype.Bn=function(a){return this.Ya(Oq,a)};Y.prototype.getPublicTransitService=Y.prototype.Bn;function Pq(a){Pq.l.constructor.call(this,Pq,a)}u(Pq,Vp);t(\"H.service.RoutingService\",Pq);Pq.prototype.a=function(){return{subDomain:\"route.ls\",path:\"routing/7.2\"}};Pq.prototype.b=function(a){return Error(a.details)};Pq.CONFIG_KEY=\"routing\";Pq.prototype.Qd=function(a,b,c){a=this.D().clone().F(\"calculateroute.json\").I(a);return this.K(a,b,c)};Pq.prototype.calculateRoute=Pq.prototype.Qd;\nPq.prototype.dh=function(a,b,c){a=this.D().clone().Ma(\"isoline\").F(\"calculateisoline.json\").I(a);return this.K(a,b,c)};Pq.prototype.calculateIsoline=Pq.prototype.dh;function Qq(a){Qq.l.constructor.call(this,Qq,a)}u(Qq,Vp);t(\"H.service.RoutingService8\",Qq);Qq.CONFIG_KEY=\"routing_v8\";Qq.prototype.a=function(){return{subDomain:\"router\",path:\"v8/routes\"}};Qq.prototype.b=function(a){return Error(a.error)};Qq.prototype.Qd=function(a,b,c){a=this.D().clone().I(a);return this.K(a,b,c)};Qq.prototype.calculateRoute=Qq.prototype.Qd;Qq.prototype.dh=function(a,b,c){a=this.D().clone().Ma(\"isoline\").Md(\"v8/isolines\").I(a);return this.K(a,b,c)};\nQq.prototype.calculateIsoline=Qq.prototype.dh;Y.prototype.bk=function(a,b){b=+b||7;if(7===b)b=Pq;else if(8===b)b=Qq;else throw new D(this.bk,1,\"allowed values are 7 and 8\");return this.Ya(b,a)};Y.prototype.getRoutingService=Y.prototype.bk;function Rq(){}t(\"H.service.extension.dataView.ITable\",Rq);Rq.prototype.be=function(){};Rq.prototype.getMeta=Rq.prototype.be;Rq.prototype.ee=function(){};Rq.prototype.getRowCount=Rq.prototype.ee;Rq.prototype.Bc=function(){};Rq.prototype.getRow=Rq.prototype.Bc;Rq.prototype.Ua=function(){};Rq.prototype.getColumnNames=Rq.prototype.Ua;Rq.prototype.Ue=function(){};Rq.prototype.getColumn=Rq.prototype.Ue;Rq.prototype.xa=function(){};Rq.prototype.getCell=Rq.prototype.xa;Rq.prototype.concat=function(){};\nRq.prototype.concat=Rq.prototype.concat;function Sq(){}t(\"H.service.extension.dataView.IRow\",Sq);Sq.prototype.Ua=function(){};Sq.prototype.getColumnNames=Sq.prototype.Ua;Sq.prototype.xa=function(){};Sq.prototype.getCell=Sq.prototype.xa;Sq.prototype.xd=function(){};Sq.prototype.getTable=Sq.prototype.xd;function Tq(a,b){this.a=a;this.b=b}t(\"H.service.extension.dataView.ObjRow\",Tq);Tq.prototype.Ua=function(){return this.a.Ua()};Tq.prototype.getColumnNames=Tq.prototype.Ua;Tq.prototype.xa=function(a){return this.a.xa(this.b,a)};Tq.prototype.getCell=Tq.prototype.xa;Tq.prototype.xd=function(){return this.a};Tq.prototype.getTable=Tq.prototype.xd;function Uq(){}t(\"H.service.extension.dataView.IColumn\",Uq);Uq.prototype.xa=function(){};Uq.prototype.getCell=Uq.prototype.xa;function Vq(a,b){this.b=a;this.a=b}t(\"H.service.extension.dataView.ObjColumn\",Vq);Vq.prototype.xa=function(a){return this.b.xa(a,this.a)};Vq.prototype.getCell=Vq.prototype.xa;function Wq(a,b,c){var d;b=b||(a&&a.length?Object.keys(a[0]):B);this.Hb=a;if(b)for(this.Rd=b,this.gh=a=mc(),d=b.length;d--;)a[b[d]]=!0;c!==B&&(this.ji=c)}t(\"H.service.extension.dataView.ObjTable\",Wq);n=Wq.prototype;n.ji=B;n.Hb=B;n.Rd=B;n.gh=B;n.be=function(){return this.ji};Wq.prototype.getMeta=Wq.prototype.be;Wq.prototype.ee=function(){return this.Hb?this.Hb.length:0};Wq.prototype.getRowCount=Wq.prototype.ee;Wq.prototype.Bc=function(a){var b=this.Hb;return b&&b[a]?new Tq(this,a):B};\nWq.prototype.getRow=Wq.prototype.Bc;Wq.prototype.Ua=function(){return this.Rd||ff};Wq.prototype.getColumnNames=Wq.prototype.Ua;Wq.prototype.Ue=function(a){return this.gh[a]?new Vq(this,a):B};Wq.prototype.getColumn=Wq.prototype.Ue;Wq.prototype.xa=function(a,b){var c=this.Hb;return(a=c&&this.gh[b]&&c[a])&&a[b]};Wq.prototype.getCell=Wq.prototype.xa;\nWq.prototype.concat=function(){var a=arguments.length,b,c=this.Rd,d=\"\"+this.Rd,e=(this.Hb||[]).slice();for(b=0;b<a;b++){var f=arguments[b];if(!(f instanceof Wq))throw new D(this.concat,b);if(f.Hb){if(c&&\"\"+f.Rd!==d)throw new D(this.concat,b,\"Incompatible columns!\");e=e.concat(f.Hb)}}return new Wq(e,this.Rd,this.ji)};Wq.prototype.concat=Wq.prototype.concat;function Xq(a,b){a.Hb?a.Hb.push(b):a.Hb=[b];return a.Hb.length-1};function Yq(a){var b=Zq;if(!a||!zc(Ze(a.layerId,a.layer))||!Cc(a.level)||tc(a.rowFilter)&&!Ca(a.rowFilter)||tc(a.rowFilterContext)&&!Da(a.rowFilterContext))throw new D(b,1,tc(\"invalid layer config\")?\"invalid layer config\":a);};function $q(a,b,c,d){d=d||ar;this.tf={};d.provider=a;this.invalidate=ef;$q.l.constructor.call(this,b,d);delete this.invalidate;c&&(this.b=c);this.wa(Mg.ADD)}u($q,bh);t(\"H.service.remote.Spatial\",$q);var ar={};$q.prototype.gb=function(){return this.b||bh.prototype.gb.call(this)};$q.prototype.getId=$q.prototype.gb;$q.prototype.Dg=hd;$q.prototype.retain=$q.prototype.Dg;$q.prototype.release=df;$q.prototype.release=$q.prototype.release;function br(a,b){this.a=a;b&&(this.b=b)}var cr=new br([]);\n$q.prototype.$d=function(a){return(this.tf[a.key]||cr).a};$q.prototype.getGeometriesForTile=$q.prototype.$d;$q.prototype.zh=function(a){return(this.tf[a.key]||cr).b};$q.prototype.getLabels=$q.prototype.zh;function dr(a,b,c){a.tf[b.key]=new br(c,void 0)};function er(a,b,c,d,e,f){fr(er,1,b,c);fr(er,2,d,e);(this.f=a.length)?(this.s=a,this.aa=b,this.i=c,this.b=0,this.c=A(this.c,this),this.o=d,this.j=e,this.a=mc(),Wa(this.a,gr,f||{}),this.g={},x.setTimeout(this.c,0)):b(ff,!0)}var gr={duration:100,Am:\"geometry\",zm:\"WKT\",Zo:\"searchAttributes\",Cj:B};\ner.prototype.c=function(){var a=[];var b=!1;for(var c=zk(),d;this.b<this.f;){var e=this.s[this.b];b=e.attributes;d=e.layerId||this.a.Cj;e.distance&&(b[this.a.Zo]={nearest:new Wf(e.nearestLat,e.nearestLon),distance:e.distance});if(e=e[this.a.Am]){try{var f=Fn(new $n(e))}catch(g){this.i(new x.Error(g.message));b=!0;break}b[this.a.zm]=f}(e=this.g[d])||(e=this.g[d]=this.o({layerId:d,columnNames:Object.keys(b)}));b=this.j(e,b);a.push(b);this.b++;if((b=this.b===this.f)||zk()-c>=this.a.duration){this.aa(a,\nb);break}}b?this.g=y:this.m=x.setTimeout(this.c,0)};er.prototype.cancel=function(){x.clearTimeout(this.m);this.b<this.f&&this.i(new x.Error(\"parsing canceled\"))};er.prototype.cancel=er.prototype.cancel;function fr(a,b,c,d){if(!Ca(c))throw new D(a,b,\"has invalid type\");if(!Ca(d))throw new D(a,b+1,\"has invalid type\");};function hr(a,b,c){var d=8===a;this.b=b;this.c=c||hd;(this.a=4===a||d)?this.j=d:this.g=1===a;this.f=this.a?\"$HProjGeometry\":\"geometry\"}\nhr.prototype.parse=function(a,b,c){var d,e,f={},g=[],h,k;var l=0;for(h=c.length;l<h;l++){var m=c[l];var p=m.Rows;if(m=p.length){var q=Object.keys(p[0]).filter(function(v){return\"geometry\"!==v&&\"$HProjGeometry\"!==v});q=new Wq(p,q);for(k=0;k<m;k++){var r=p[k];if(e=r[this.f]){if(delete r[this.f],r=q.Bc(k))try{this.a?d=ir(this,a,b,r,e):d=jr(this,a,r,e.path),d.ka(a),g.push(d)}catch(v){this.c(v.message)}}else this.c(\"Layer must contain geometries\")}}}f[this.a?\"spatials\":this.g?\"markers\":\"domMarkers\"]=\ng;return f};function ir(a,b,c,d,e){var f=[],g=e.paths,h=g.length,k=0,l=a.b&&a.b(d);for(a=new $q(b,a.j,B,{style:l||a.i,data:d});k!==h;)f.push(kr(g[k++]));dr(a,c,[new rh(f,e.interiorsIndex,e.outlinesIndex)]);return a}function jr(a,b,c,d){d=new Wf(d[0],d[1]);var e=a.b&&a.b(c);a.g?(a={icon:e,data:c,provider:b},a=new yn(d,a)):(a={icon:e,data:c,provider:b},a=new Qi(d,a));return a}function kr(a){for(var b=0,c=a.length,d=[];b<c;)d.push(new I(a[b++],a[b++]));return d};function lr(a){a=a||{};var b=a.tileCacheSize||1024,c=a.resultType,d=a.styleCallback;tc(a.min)||(a.min=12);lr.l.constructor.call(this,a);if(-1===mr.indexOf(c))throw new D(lr,2,\"invalid resultType\");this.a=c;if(d&&!Ca(d))throw new D(lr,2,\"invalid style callback\");this.Aa=d;this.W=a.pixelRatio||Se();this.Lb=A(this.Lb,this);this.O(new Dk(b,A(this.dc,this)));this.createTileInternal=4===c||8===c?A(this.N,this):A(this.J,this)}u(lr,R);t(\"H.service.extension.TileProvider\",lr);lr.prototype.c=!1;\nlr.prototype.getCapabilities=function(){return lr.l.getCapabilities.call(this)|Cj.CROP_LINES_BY_TILE|Cj.CROP_POLYGONS_BY_TILE};lr.prototype.jb=function(a,b,c,d){return this.c?lr.l.jb.call(this,a,b,c,d):B};lr.prototype.requestTile=lr.prototype.jb;lr.prototype.Lb=function(a){this.dispatchEvent(new td(\"error\",zc(a)?a:a+\"\",this))};lr.prototype.Wb=function(){return 1===this.a};lr.prototype.providesMarkers=lr.prototype.Wb;lr.prototype.Vb=function(){return 2===this.a};lr.prototype.providesDomMarkers=lr.prototype.Vb;\nlr.prototype.Jc=function(){return 4===this.a||8===this.a};lr.prototype.providesSpatials=lr.prototype.Jc;function nr(a){var b=a.yb;b||(a.v||(a.v=a.s(a.a,a.Aa,a.Lb)),b=a.yb=new qq(a.v),b.ka(a),b.addEventListener(a.i.Ea,A(a.kb,a)),b.yb=!0);return b}\nlr.prototype.J=function(a,b,c,d){var e=this.getTileKey(a,b,c);e=this.Ob().get(e);var f=2==this.a,g=[],h=nr(this);e?e.valid=!0:(a=e=new Lk(a,b,c,y),delete a.j,a.m=d);d=f?sq(h,e,\"domMarkers\"):sq(h,e,\"markers\");for(b=d.length;b--;)a=d[b],a.aj=e,(f||1===a.Cb().getState())&&g.push(a);e.data=g;return e};lr.prototype.kb=function(a){if(a=a.target.aj)a.valid=!1};lr.prototype.cp=function(a){this.C=!!a};lr.prototype.setTileCanvasRendering=lr.prototype.cp;lr.prototype.C=!0;\nlr.prototype.N=function(a,b,c,d){var e=nr(this),f=this.getTileKey(a,b,c),g=this.tileSize,h=this.Ob().get(f);h||(a=h=new Pk(f,a,b,c,g,this.W,c,e),delete a.j,a.m=d);this.C?(d=Sp.pop(g),h.V(d)||Sp.push(d,g)):Vk(h);return h};lr.prototype.dc=function(a,b){var c;if(4===this.a||8===this.a){a=b.Va();for(c=a.length;c--;)delete a[c].tf[b.key];b.data&&(Sp.push(b.xg(),this.tileSize),b.yg())}else for(a=b.data,c=a.length;c--;)delete a[c].aj};lr.prototype.u=function(){lr.l.u.call(this);nr(this).B()};\nvar or={MARKER:1,DOM_MARKER:2,POLYLINE:4,POLYGON:8};lr.ResultType=or;var mr=[1,2,4,8];function Zq(a,b,c){var d=this,e=b&&b.rowFilter,f=c.resultType;Zq.l.constructor.call(this,c);C(a,pr,Zq,0);Yq(b);e?(c=Ua(b),c.rowFilter=e.toString()):c=Ua(b);delete c.layer;c.layerId=Ze(b.layerId,b.layer);(new Mf).a(\"pde\",\"H.service.extension.worker.processor\");a=a.D().clone().F(qr+\".\"+rr).I({meta:1});(new Pf(\"pde\",{message:[this.uid,0,{tileSize:this.tileSize,projected:!0,onlyOutline:4===f,serverUrl:a.toString(),layerConfigs:[c],horizontalMargin:1}]})).then(function(){d.c=!0;Wj(d)},this.Lb)}\nu(Zq,lr);t(\"H.service.extension.platformData.TileProvider\",Zq);Zq.prototype.s=function(a,b,c){a=new hr(a,b,c);a.i=sr;return a};var sr=new Ug({strokeColor:\"transparent\",fillColor:\"transparent\",lineWidth:0,lineJoin:\"round\",lineCap:\"round\"});\nZq.prototype.K=function(a,b,c,d,e){var f=this,g=this.getTileKey(a,b,c),h;g=this.Ob().get(g);var k={cancel:hd},l=!0,m=this.a;g&&(4===m||8===m?g.le()||(d(Sp.pop(this.tileSize),null),l=!1):(d(y),l=!1));if(l){var p=Qp.setTimeout(function(){h=new Pf(\"pde\",{message:[f.uid,1,[a,b,c]]});h.then(d,e)},500);k.cancel=function(){h?h.cancel():Qp.clearTimeout(p)}}return k};Zq.prototype.requestInternal=Zq.prototype.K;Zq.prototype.u=function(){Zq.l.u.call(this);new Pf(\"pde\",{message:[this.uid,3]})};\nZq.ResultType=or;function tr(a){this.a=a}tr.prototype.cancel=function(){for(var a=this.a,b=a.length;b--;)a[b].cancel();a.length=0};function pr(a){pr.l.constructor.call(this,pr,a)}u(pr,Vp);t(\"H.service.extension.platformData.Service\",pr);pr.prototype.a=function(){return{subDomain:\"s.fleet.ls\",path:\"1\"}};pr.CONFIG_KEY=\"platformData\";pr.prototype.request=function(a,b,c,d,e){return this.T(a,b,c,d,e)};\npr.prototype.T=function(a,b,c,d,e){var f=\"text/plain\";if(!a)throw new D(this.request,0,a);if(!b)throw new D(this.request,1,b);if(!d)throw new D(this.request,3,d);if(!e)throw new D(this.request,4,e);a=this.D().clone().F(a+\".\"+b).I(c);b===ur.JSON&&(f=\"application/json\");return this.K(a,d,e,f)};var qr=\"tiles\";\npr.EntryPoint={DOC_ATTRIBUTES:\"doc/attributes\",DOC_LAYER:\"doc/layer\",DOC_LAYERS:\"doc/layers\",DOC_MAPS:\"doc/maps\",DOC_INDEXES:\"doc/indexes\",SEARCH_BBOX:\"search/bbox\",SEARCH_CORRIDOR:\"search/corridor\",SEARCH_PROXIMITY:\"search/proximity\",SEARCH_QUADKEY:\"search/quadkey\",SERVICE_CONFIGURATION:\"serviceconfiguration\",STATIC:\"static\",TILE:\"tile\",TILES:qr,FILE:\"file\",INDEX:\"index\"};var rr=\"json\",ur={TXT:\"txt\",JSON:rr,HTML:\"html\",BIN:\"bin\"};pr.EntryPointType=ur;\npr.prototype.wc=function(a,b){var c=b&&b.resultType;a=new Zq(this,a,b);var d;1==c||2===c?d=new Bn(a):d=new ll(a);return d};pr.prototype.createTileLayer=pr.prototype.wc;pr.prototype.Jd=function(a,b,c,d){var e=[],f,g=b.layer_id||b.layer_ids;a=this.request(a,rr,b,function(h){f=new er(h.geometries,c,d,function(k){return new Wq([],k.columnNames,k)},function(k,l){return k.Bc(Xq(k,l))},{Cj:g});e.push(f)},function(h){d(new x.Error(h))});e.push(a);return new tr(e)};\nfunction vr(a,b,c){if(!yc(a))throw new D(c,0,\"has invalid type\");if(!yc(b))throw new D(c,1,\"has invalid type\");if(a.length!==b.length||!a.length)throw new D(c,1,\"specify one key attribute for each given layer id in the same order\");}\npr.prototype.Mc=function(a,b,c,d,e,f){function g(l,m){m&&h--;d(l,!h)}var h,k=[];vr(a,b,this.Mc);fr(this.Mc,3,d,e);C(c,K,this.Mc,2);c={bbox:c.la+\",\"+c.ca+\";\"+c.na+\",\"+c.ia};f&&Wa(c,f);a=c.layer_id?[c.layer_id]:a;f=0;for(h=a.length;f<h;f++)c.layer_id=a[f],c.key_attribute=b[f],k.push(this.Jd(\"search/bbox\",c,g,e));return new tr(k)};pr.prototype.searchByBoundingBox=pr.prototype.Mc;\npr.prototype.Yb=function(a,b,c,d,e,f,g){vr(a,b,this.Yb);C(c,Wf,this.Yb,2,\"has invalid type\");if(!Cc(d))throw new D(this.Yb,3,\"has invalid type\");fr(this.Yb,4,e,f);a={layer_ids:a.join(\",\"),key_attributes:b.join(\",\"),proximity:c.lat+\",\"+c.lng+\",\"+d};g&&Wa(a,g);return this.Jd(\"search/proximity\",a,e,f)};pr.prototype.searchByProximity=pr.prototype.Yb;\npr.prototype.Xb=function(a,b,c,d,e,f,g){var h=\"\";vr(a,b,this.Xb);if(!zc(c)&&!C(c,L))throw new D(this.Xb,1,\"has invalid type\");if(!Cc(d))throw new D(this.Xb,2,\"has invalid type\");fr(this.Xb,4,e,f);a={layer_ids:a.join(\",\"),key_attributes:b.join(\",\"),radius:d};if(zc(c))a.route_id=c;else{d=c.Y;c=0;for(b=d.length;c<b;c+=3)h+=d[c]+\",\"+d[c+1],c<b-3&&(h+=\";\");a.corridor=h}g&&Wa(a,g);return this.Jd(\"search/corridor\",a,e,f)};pr.prototype.searchByCorridor=pr.prototype.Xb;\nY.prototype.wn=function(a){return this.Ya(pr,a)};Y.prototype.getPlatformDataService=Y.prototype.wn;function wr(a){wr.l.constructor.call(this,wr,a)}u(wr,Vp);t(\"H.service.extension.geofencing.Service\",wr);wr.prototype.a=function(){return{subDomain:\"fleet.ls\",path:\"2\"}};wr.CONFIG_KEY=\"geofencing\";wr.prototype.request=function(a,b,c,d){return this.T(a,b,c,d)};wr.prototype.b=function(a){return Error(a.issues&&a.issues.length?a.issues.map(function(b){return b.message}).join(\". \"):a.message||a.response_code)};\nwr.prototype.T=function(a,b,c,d){if(!a)throw new D(this.request,0,a);if(!Ca(c))throw new TypeError(\"onResult must be a function\");if(!Ca(d))throw new TypeError(\"onError must be a function\");a=this.D().clone().F(a+\".json\").I(b);return this.K(a,c,d)};wr.EntryPoint={SEARCH_PROXIMITY:\"search/proximity\"};Y.prototype.Zm=function(a){return this.Ya(wr,a)};Y.prototype.getGeofencingService=Y.prototype.Zm;t(\"H.service.extension.customLocation.Permission\",{READ:\"read\",WRITE:\"write\",EXPORT:\"export\"});t(\"H.service.extension.customLocation.Storage\",{READONLY:\"readonly\",UPDATABLE:\"updatable\"});function xr(a){var b=yr;if(!a||!zc(a.layerId)||tc(a.rowFilter)&&!Ca(a.rowFilter)||tc(a.rowFilterContext)&&!Da(a.rowFilterContext))throw new D(b,1,tc(\"invalid layer config\")?\"invalid layer config\":a);}function zr(a){return zc(a)&&/^[A-Z][A-Z0-9_]*$/.test(a)}function Ar(a){for(var b=a&&a.length,c=2<=b&&\"WKT\"===a[--b]&&\"GEOMETRY_ID\"===a[--b];c&&b--;)c=zr(a[b]);return c}\nfunction Br(a,b){var c=\"\",d,e,f=[];if(!b){var g={};f=[];if(a.geometries)for(e=0;e<a.geometries.length;e++)b=a.geometries[e],g[b.layerId]||(g[b.layerId]=[]),g[b.layerId].push(b);for(d in g)f.push({layerId:d,geometries:g[d]});for(d=0;d<f.length;d++)c+=Br(f[d],f[d].layerId)}else if(a.geometries&&a.geometries.length)for(e=Object.keys(a.geometries[0].attributes),c=c+(\"Meta:\\t\"+b+\"\\n\")+e.join(\"\\t\"),c+=\"\\tWKT\\n\",d=0;d<a.geometries.length;d++){var h=a.geometries[d].attributes;g=a.geometries[d].geometry;for(b=\n0;b<e.length;b++)f.push(h[e[b]]);c+=f.join(\"\\t\");c+=\"\\t\"+g+\"\\n\";f=[]}return c};function yr(a,b,c){var d=this,e=b&&b.rowFilter,f;yr.l.constructor.call(this,c);C(a,Cr,yr,0);var g=c.resultType;xr(b);if(e){var h=Ua(b);h.rowFilter=e.toString()}else h=b;(new Mf).a(\"cle\",\"H.service.extension.worker.processor\");var k=b.layerId;a.request(Dr,Er,{detail_level:\"all\",layer_id:k},function(l){l=l.layers;var m;for(m=0;m<l.length;m++)if(l[m].layerId===k){h.level=l[m].level;break}f=a.D().clone().F(Fr+\".\"+Er).I({meta:1});(new Pf(\"cle\",{message:[d.uid,0,{tileSize:d.tileSize,projected:!0,onlyOutline:4===\ng,serverUrl:f.toString(),layerConfigs:[h],batchTiles:!1,horizontalMargin:1}]})).then(function(){d.c=!0;Wj(d)},d.Lb)},function(l){d.Lb(l.message)})}u(yr,lr);t(\"H.service.extension.customLocation.TileProvider\",yr);yr.prototype.s=function(a,b,c){return new hr(a,b,c)};\nyr.prototype.K=function(a,b,c,d,e){var f=this,g=this.getTileKey(a,b,c),h;g=this.Ob().get(g);var k={cancel:hd},l=!0,m=this.a;g&&(4===m||8===m?g.le()||(d(Sp.pop(this.tileSize),null),l=!1):(d(y),l=!1));if(l){var p=Qp.setTimeout(function(){h=new Pf(\"cle\",{message:[f.uid,1,[a,b,c]]});h.then(d,e)},500);k.cancel=function(){h?h.cancel():Qp.clearTimeout(p)}}return k};yr.prototype.requestInternal=yr.prototype.K;yr.prototype.u=function(){yr.l.u.call(this);new Pf(\"cle\",{message:[this.uid,3]})};function Gr(){if(Hr)throw new Xc(Gr);}t(\"H.service.extension.customLocation.Table\",Gr);var Hr=!0;function Ir(a,b){var c;Hr=!1;var d=new Gr;Hr=!0;d.c=pc(x.JSON.parse(x.JSON.stringify(a)));a=a.columnNames;var e=mc();for(c=a.length;c--;)e[a[c]]=c;d.f=e;d.b=a.length;if(b){if(b.length%a.length)throw new D(Ir,1,\"Invalid number of cells\");}else b=[];d.a=b;return d}Gr.prototype.be=function(){return this.c};Gr.prototype.getMeta=Gr.prototype.be;Gr.prototype.ee=function(){return this.a.length/this.b};\nGr.prototype.getRowCount=Gr.prototype.ee;Gr.prototype.Bc=function(a){return a<this.a.length/this.b?new Jr(this,a):B};Gr.prototype.getRow=Gr.prototype.Bc;Gr.prototype.Gn=function(){var a=this.a.length/this.b,b,c=new x.Array(a);for(b=0;b<a;b++)c[b]=new Jr(this,b);return c};Gr.prototype.getRows=Gr.prototype.Gn;Gr.prototype.Wg=function(a){var b=this.b,c=this.a,d=c.length/this.b;if(!a||a.length%b)throw new D(this.Wg,0,\"Invalid number of cells\");this.a=c.concat(a);return d};Gr.prototype.addCells=Gr.prototype.Wg;\nGr.prototype.cm=function(){for(var a=this.b,b=this.a,c=this.a.length/this.b;a--;)b.push(y);return this.Bc(c)};Gr.prototype.addRow=Gr.prototype.cm;Gr.prototype.Ua=function(){return this.c.columnNames};Gr.prototype.getColumnNames=Gr.prototype.Ua;Gr.prototype.Ue=function(a){return this.f[a]===B?B:new Kr(this,a)};Gr.prototype.getColumn=Gr.prototype.Ue;Gr.prototype.xa=function(a,b){return this.a[a*this.b+this.f[b]]};Gr.prototype.getCell=Gr.prototype.xa;\nGr.prototype.Nc=function(a,b,c){b=this.f[b];if(a>=this.a.length/this.b)throw new D(this.Nc,0,\"Row index out of bounds\");if(b===B)throw new D(this.Nc,0,\"Column unknown\");this.a[a*this.b+b]=c};Gr.prototype.setCell=Gr.prototype.Nc;\nGr.prototype.concat=function(a){var b=arguments.length,c,d=\"\"+this.Ua(),e=this.a?this.a.slice():[];for(c=0;c<b;c++){var f=arguments[c];if(!(f instanceof Gr))throw new D(this.concat,c);if(\"\"+f.Ua()!==d)throw new D(this.concat,c,\"Incompatible columns!\");f.a&&(e=e.concat(f.a))}return Ir(this.c,e)};Gr.prototype.concat=Gr.prototype.concat;var Lr=/(\\n|\\t|\\r|\")/;\nGr.prototype.Xi=function(a,b){var c,d=this.b,e=this.Ua(),f=[],g=[],h=this.a,k=-1;for(c=0;c<d;c++)if(!a||a.test(e[c]))\"WKT\"===e[c]&&(k=f.length),f.push(c);if(!(a=f.length))throw new D(this.Xi,1,\"No columns filtered\");Mr(this,g,e,0,d,f,a,k);if(b){var l=b.length;for(c=0;c<l;c++)g.push(\"\\n\"),e=b[c],Mr(this,g,h,e,d,f,a,k)}else for(l=this.ee(),e=0;e<l;e++)g.push(\"\\n\"),Mr(this,g,h,e,d,f,a,k);return g.join(\"\")};\nfunction Mr(a,b,c,d,e,f,g,h){var k;for(k=0;k<g;k++){k&&b.push(\"\\t\");var l=c[d*e+f[k]];if(k!==h){if(l!==y){l=String(l);if(Lr.test(l))throw new D(a.Xi,0,'Invalid character (\\\\n, \\\\r, \\\\t, or \") in row '+d+\" column \"+a.c.columnNames[f[k]]);b.push(l)}}else b.push(l)}}function Kr(a,b){this.b=a;this.a=b}Gr.Column=Kr;Kr.prototype.xa=function(a){return this.b.xa(a,this.a)};Kr.prototype.getCell=Kr.prototype.xa;Kr.prototype.Nc=function(a,b){this.b.Nc(a,this.a,b)};Kr.prototype.setCell=Kr.prototype.Nc;\nfunction Jr(a,b){this.a=a;this.gi=b}Gr.Row=Jr;Jr.prototype.Ua=function(){return this.a.Ua()};Jr.prototype.getColumnNames=Jr.prototype.Ua;Jr.prototype.xa=function(a){return this.a.xa(this.gi,a)};Jr.prototype.getCell=Jr.prototype.xa;Jr.prototype.Nc=function(a,b){this.a.Nc(this.gi,a,b)};Jr.prototype.setCell=Jr.prototype.Nc;Jr.prototype.xd=function(){return this.a};Jr.prototype.getTable=Jr.prototype.xd;function Nr(a){if(a===B)a=\"\\t\";else if(!/^[^\"\\r\\n]$/.test(a))throw new D(Nr,0);this.b=String(a).charCodeAt(0);this.hi=A(this.hi,this);this.A=Or}var Or=0;n=Nr.prototype;n.getState=function(){return this.A};function Pr(a,b,c){var d=a.A;if(d!==b)throw 1===d&&(a.A=Or),new Xc(c,\"Requires state: \"+[\"READY\",\"PARSE\",\"PAUSE\"][b]+\" but found \"+[\"READY\",\"PARSE\",\"PAUSE\"][d]);}n.abort=function(){Pr(this,2,Nr.prototype.abort);this.A=Or};\nn.hi=function(a){this.A=Or;throw new D(Nr.prototype.parse,0,\"Malformed DSV at row \"+this.a.j+\" column \"+this.a.b+\": \"+a);};function Qr(a,b){var c=[];a.parse(b,function(d,e,f){1>d&&(c[e]=f);return 0<d});a.A=Or;return c}n.parse=function(a,b,c){Pr(this,Or,Nr.prototype.parse);a=a.trim();this.a=new Rr(a,this.b,this.hi);this.c=b;this.Ok=c||ef;this.A=2;this.resume()};n.Ok=ef;\nn.resume=function(){var a=this.a,b=[];Pr(this,2,Nr.prototype.resume);this.A=1;do{if(!a.g){this.A=Or;break}if(e>a.b){if(void 0!==c&&c!==e){this.a.a(\"The number of columns must be the same for all rows\");return}var c=e}var d=a.j;var e=a.b;var f=a.Nf;var g=this.Ok(d,e,a);if(a.Nf>f)for(;-1!==a.next(););else{for(;-1!==(f=a.next());)b.push(f);g=String.fromCharCode.apply(y,b);b.length=0}Sr(a);this.c(d,e,g)&&(this.A=a.g?2:Or)}while(1===this.A);2!=this.A&&void 0!==c&&0<e&&c!==e&&this.a.a(\"The number of columns must be the same for all rows\")};\nfunction Rr(a,b,c){this.c=new $n(a);this.m=b;this.g=!0;this.Nf=this.j=this.b=0;Sr(this);this.a=c;this.f=[];this.i=!1}n=Rr.prototype;n.Nf=0;function Sr(a){var b=a.c.Tb();a.o=!1;(a.aa=34===b)&&a.c.next()}function Tr(a,b){var c=a.c;a.o=!0;switch(b){case a.m:a.b++;break;case 13:c.next(),10!==c.Tb()&&a.a(\"CR without LF\");case 10:a.b=0;a.j++;break;case -1:a.g=!1;break;default:a.a(\"End of field expected\")}c.next();return-1}\nn.Tb=function(){if(this.o)var a=-1;else{var b=this.c;a=b.Tb();if(this.aa)switch(a){case 34:b.next();a=b.Tb();34!==a&&(a=Tr(this,a));break;case -1:this.a(\"Closing quotation mark expected\")}else switch(a){case 34:this.a(\"Unexpected quotation mark\");case this.m:case 13:case 10:case -1:a=Tr(this,a)}}return a};n.ze=function(){this.i=!0;this.f=[]};n.Ud=function(){var a=this.f.slice();this.i=!1;this.f=[];return a};n.next=function(){var a=this.Tb();-1!==a&&this.c.next();this.i&&this.f.push(a);this.Nf++;return a};function Ur(a,b,c,d){d=d||{};if(!b)throw new D(Ur,1,\"has to be a function\");if(!c)throw new D(Ur,2,\"has to be a function\");this.c=b;this.g=c;this.a=[];this.i=d.duration||Vr;this.b=A(this.b,this);this.f={};a=a.split(\"Meta:\\t\").slice(1);for(b=0;b<a.length;b++){d=a[b].split(\"\\n\");c=d[0].split(\"\\t\")[0];d=d.slice(1).join(\"\\n\");this.Td[c]=new Nr;this.fi[c]=Qr(this.Td[c],d);var e={layerId:c,columnNames:this.fi[c]};this.Th.push(c);this.f[c]=Ir(e);this.Rc[c]=zk();Wr(this,d,c);this.b(c)}}var Vr=100;n=Ur.prototype;\nn.fi={};n.Th=[];n.Td={};n.Rc={};n.Wi={};function Wr(a,b,c){var d=[],e=a.fi[c].length-1,f=a.f[c];try{a.Td[c].parse(b,function(g,h,k){var l=!1;0<g&&(d[h]=k,h===e&&(a.a.push(f.Bc(f.Wg(d))),zk()-a.Rc[c]>a.i&&(l=!0)));return l},function(g,h,k){if(0<g&&h===e)return Fn(k)})}catch(g){a.g(g)}}n.cancel=function(){for(var a in this.Wi)x.clearTimeout(this.Wi[a])};Ur.prototype.cancel=Ur.prototype.cancel;\nUr.prototype.b=function(a){var b=this,c,d;this.Wi[a]=x.setTimeout(function(){if(2===b.Td[a].getState())b.Rc[a]=zk(),b.c(b.a,!1),b.a=[],b.Td[a].resume(),b.b(a);else{c=!0;for(d=0;d<b.Th.length;d++)if(b.Td[b.Th[d]].getState()!==Or){c=!1;break}c&&(0<b.a.length&&b.c(b.a,!0),b.a=[])}},0)};function Cr(a){Cr.l.constructor.call(this,Cr,a)}u(Cr,Vp);t(\"H.service.extension.customLocation.Service\",Cr);Cr.prototype.a=function(){return{subDomain:\"fleet.ls\",path:\"2\"}};Cr.CONFIG_KEY=\"customLocation\";Cr.prototype.wc=function(a,b){var c=b&&b.resultType;a=new yr(this,a,b);var d;1===c||2===c?d=new Bn(a):d=new ll(a);return d};Cr.prototype.createTileLayer=Cr.prototype.wc;\nfunction Xr(a,b,c,d){var e;a=a===Yr?\"changes\":\"file\";var f=b[a],g=zc(f),h=!g&&C(f,Blob);if(!g&&!h)throw new D(d,0,\"Invalid \"+a+\" parameter\");if(Zr)h?e=f:e=nf(f,\"text/plain\"),d=new x.FormData,d.append(a,e,e.name||a+\".wkt\"),c.method=\"POST\",c.data=d,delete b[a];else if(h)throw new D(d,0,\"Sending Blob data is not supported by the browser\");}var Zr=x.FormData&&!!x.FormData.prototype.append;Cr.prototype.request=function(a,b,c,d,e){return this.T(a,b,c,d,e)};\nCr.prototype.T=function(a,b,c,d,e){var f=\"text/plain\",g=a===$r.LAYERS_UPLOAD||a===$r.LAYERS_MODIFY||a===$r.LAYERS_IMPORT,h=c,k={data:B,method:\"GET\",headers:this.gf};if(!a)throw new D(this.request,0,a);if(!b)throw new D(this.request,1,b);fr(this.request,3,d,e);g&&(C(c,Object,this.request,2,\"Invalid request parameters\"),h=Ua(c),Xr(a,h,k,this.request));var l=this.D().clone().F(a+\".\"+b).I(h);b===as.JSON&&(f=\"application/json\");a=new rf(f,l.toString(),fe,k);a.then(function(m){var p=m.issues;p&&m.error_id&&\nm.response_code?e(Error(p[0].message)):d(m)},function(m){\"error\"===m.type||404===m.status?e(Error(m.statusText||\"Unable to load data\")):m.json().then(function(p){e(Error(\"[\"+p.issues[0].message+\"] \"+l+\" request failed\"))},function(){e(Error(\"[\"+m.statusText+\"] \"+l+\" request failed\"))})});return a};\nvar Dr=\"layers/list\",Yr=\"layers/modify\",Fr=\"tiled/tile\",$r={LAYERS_DELETE:\"layers/delete\",LAYERS_GRANT:\"layers/access/grant\",LAYERS_LIST:Dr,LAYERS_MODIFY:Yr,LAYERS_UPLOAD:\"layers/upload\",LAYERS_IMPORT:\"layers/import\",SEARCH_ALL:\"search/all\",SEARCH_BBOX:\"search/bbox\",SEARCH_CORRIDOR:\"search/corridor\",SEARCH_PROXIMITY:\"search/proximity\",SEARCH_QUADKEY:\"search/quadkey\",SEARCH_TILE:Fr};Cr.EntryPoint=$r;var Er=\"json\",as={TXT:\"txt\",JSON:Er};Cr.EntryPointType=as;\nCr.prototype.tb=function(a,b,c){var d=this;return this.request(\"search/all\",\"txt\",{filter:'WKT==\"\"',layer_id:a},function(e){var f=e.replace(/[\\r\\n]+$/g,\"\").split(\"\\t\");d.request(Dr,Er,{layer_id:a,detail_level:\"all\"},function(g){g=g.layers[0];g.columnNames=f;b(Ir(g))},c)},c)};Cr.prototype.getLayer=Cr.prototype.tb;\nCr.prototype.hk=function(a,b,c,d){function e(){return++g<f?h.request(\"layers/access/grant\",Er,{layer_id:a,granted_app_id:b[g].grantedAppId,permissions:b[g].permissions.join(\",\")},e,d):h.tb(a,c,d)}var f=b&&b.length,g=-1,h=this;return e()};Cr.prototype.grantAccess=Cr.prototype.hk;Cr.prototype.Ej=function(a,b,c){return this.request(\"layers/delete\",Er,{layer_ids:a},b,c)};Cr.prototype.deleteLayer=Cr.prototype.Ej;\nCr.prototype.qd=function(a,b,c){function d(){setTimeout(function(){k.tb(g,function(q){setTimeout(e.bind(null,q),m)},function(){64E3>l?(l+=m,d()):c(x.Error(\"Timeout\"))})},m);m*=2}function e(q){var r=JSON.stringify(q.Ua()),v=a.grants;if(r!==JSON.stringify(h)){var w=\"Results into different column names on the backend: \"+r;setTimeout(function(){k.Ej(g,function(){c(x.Error(w))},function(z){c(x.Error(w+\". \"+z.message))})},m)}else v&&v.length?k.hk(g,v,b,c):b(q)}var f,g,h,k=this,l=0,m=1E3;var p=!a||!zr(g=\na.layerId)&&(f=\"layerId\")||!Ar(h=a.columnNames)&&(f=\"columnNames\")?0:Ca(b)?Ca(c)?-1:2:1;if(0<=p)throw new D(k.qd,p,f||arguments[p]);return k.tb(g,function(){c(x.Error(\"Layer exists already\"))},function(){var q={layer_id:g,file:h.join(\"\\t\")},r=a.level,v=a.storage;r!==B&&(q.level=r);v!==B&&(q.storage=v);k.request(\"layers/upload\",Er,q,d,c)})};Cr.prototype.createLayer=Cr.prototype.qd;\nCr.prototype.Jd=function(a,b,c,d){var e=[],f;a=this.request(a,Er,b,function(g){g.geometries.length?(g=Br(g,b.layer_id),f=new Ur(g,c,d),e.push(f)):c(ff,!0)},d);e.push(a);return new tr(e)};Cr.prototype.Yb=function(a,b,c,d,e,f){if(!yc(a))throw new D(this.Yb,0,\"has invalid type\");C(b,Wf,this.Yb,1,\"has invalid type\");if(!Cc(c))throw new D(this.Yb,2,\"has invalid type\");fr(this.Yb,3,d,e);a={layer_ids:a.join(\",\"),proximity:b.lat+\",\"+b.lng+\",\"+c};f&&Wa(a,f);return this.Jd(\"search/proximity\",a,d,e)};\nCr.prototype.searchByProximity=Cr.prototype.Yb;Cr.prototype.Xb=function(a,b,c,d,e,f){var g=\"\";if(!yc(a))throw new D(this.Xb,0,\"has invalid type\");if(!zc(b)&&!C(b,L))throw new D(this.Xb,1,\"has invalid type\");if(!Cc(c))throw new D(this.Xb,2,\"has invalid type\");fr(this.Xb,3,d,e);a={layer_ids:a.join(\",\"),radius:c};if(zc(b))a.route_id=b;else{var h=b.Y;b=0;for(c=h.length;b<c;b+=3)g+=h[b]+\",\"+h[b+1],b<c-3&&(g+=\",\");a.corridor=g}f&&Wa(a,f);return this.Jd(\"search/corridor\",a,d,e)};\nCr.prototype.searchByCorridor=Cr.prototype.Xb;Cr.prototype.Mc=function(a,b,c,d,e){function f(k,l){l&&h--;c(k,!h)}var g=[],h;if(!yc(a))throw new D(this.Mc,0,\"has invalid type\");C(b,K,this.Mc,1,\"has invalid type\");fr(this.Mc,2,c,d);b={bbox:b.la+\",\"+b.ca+\";\"+b.na+\",\"+b.ia};e&&Wa(b,e);a=b.layer_id?[b.layer_id]:a;e=0;for(h=a.length;e<h;e++)b.layer_id=a[e],g.push(this.Jd(\"search/bbox\",b,f,d));return new tr(g)};Cr.prototype.searchByBoundingBox=Cr.prototype.Mc;\nCr.prototype.Ci=function(a,b,c,d){var e,f=[];if(!zc(a))throw new D(this.Ci,0,\"has invalid type\");fr(this.Ci,1,b,c);var g={layer_id:a};d&&Wa(g,d);d=this.request(\"search/all\",Er,g,function(h){h.geometries.length?(h=Br(h,a),e=new Ur(h,b,c),f.push(e)):b(ff,!0)},c);f.push(d);return new tr(f)};Cr.prototype.searchAll=Cr.prototype.Ci;var bs={\"delete\":/^GEOMETRY_ID$/,append:/^(?!GEOMETRY_ID$)/};\nfunction cs(a,b,c,d,e,f){function g(){v++;d(this,v===q)}function h(U){v++;e(U,this,v===q)}var k=\"append\"!==b,l,m={},p=mc(),q=0,r=[],v=0;if(!yc(c))throw new D(f,0,c);fr(f,1,d,e);for(l=c.length;l--;){var w=c[l];if(C(w,Jr)){var z=w.xd().be().layerId;var J=w.xa(\"GEOMETRY_ID\");if(k){if(J===y||\"\"===String(J))var G='GEOMETRY_ID must not be null or \"\"';m[J=z+\"_\"+J]&&(G=\"same GEOMETRY_ID for multiple rows\");m[J]=w}else J!==y&&\"\"!==String(J)&&(G='GEOMETRY_ID must be null or \"\"')}else G=\"Invalid type\";if(G)throw new D(f,\n0,\"- Invalid row at index \"+l+\", \"+G);J=p[z];J||(J=p[z]=[],q++);J.push(w)}for(z in p){J=p[z];c=[];for(l=J.length;l--;)c.push(J[l].gi);r.push(a.request(Yr,Er,{layer_id:z,action:b,changes:J[0].xd().Xi(bs[b]||null,c)},A(g,J),A(h,J)))}return new tr(r)}Cr.prototype.uj=function(a,b,c){return cs(this,\"append\",a,b,c,this.uj)};Cr.prototype.appendRows=Cr.prototype.uj;Cr.prototype.Ql=function(a,b,c){return cs(this,\"update\",a,b,c,this.Ql)};Cr.prototype.updateRows=Cr.prototype.Ql;\nCr.prototype.Fj=function(a,b,c){return cs(this,\"delete\",a,b,c,this.Fj)};Cr.prototype.deleteRows=Cr.prototype.Fj;Y.prototype.Om=function(a){return this.Ya(Cr,a)};Y.prototype.getCustomLocationService=Y.prototype.Om;function ds(a){Dq.l.constructor.call(this,ds,a)}u(ds,Vp);t(\"H.service.extension.customRoute.Service\",ds);ds.prototype.a=function(){return{subDomain:\"s.fleet.ls\",path:\"2\"}};ds.CONFIG_KEY=\"customRoute\";ds.prototype.b=function(a){return Error(a.issues&&a.issues.length?a.issues.map(function(b){return b.message}).join(\". \"):a)};ds.prototype.Qd=function(a,b,c){fr(this.Qd,1,b,c);a=this.D().clone().F(\"calculateroute.json\").I(a);return this.K(a,b,c)};ds.prototype.calculateRoute=ds.prototype.Qd;\nY.prototype.Pm=function(a){return this.Ya(ds,a)};Y.prototype.getCustomRoutingService=Y.prototype.Pm;function es(a){es.l.constructor.call(this,es,a)}u(es,Vp);t(\"H.service.SearchService\",es);es.CONFIG_KEY=\"search\";es.prototype.a=function(){return{subDomain:\"search\",path:\"v1\"}};es.prototype.b=function(a){a=[a.title,a.action,a.cause].filter(function(b){return b});return Error(a.join(\". \"))};es.prototype.rh=function(a,b,c){a=this.D().clone().Ma(\"geocode\").F(\"geocode\").I(a);return this.K(a,b,c)};es.prototype.geocode=es.prototype.rh;\nes.prototype.Bi=function(a,b,c){a=this.D().clone().Ma(\"revgeocode\").F(\"revgeocode\").I(a);return this.K(a,b,c)};es.prototype.reverseGeocode=es.prototype.Bi;es.prototype.gm=function(a,b,c){a=this.D().clone().Ma(\"autosuggest\").F(\"autosuggest\").I(a);return this.K(a,b,c)};es.prototype.autosuggest=es.prototype.gm;es.prototype.om=function(a,b,c){a=this.D().clone().Ma(\"discover\").F(\"discover\").I(a);return this.K(a,b,c)};es.prototype.discover=es.prototype.om;\nes.prototype.so=function(a,b,c){a=this.D().clone().Ma(\"lookup\").F(\"lookup\").I(a);return this.K(a,b,c)};es.prototype.lookup=es.prototype.so;es.prototype.im=function(a,b,c){a=this.D().clone().Ma(\"browse\").F(\"browse\").I(a);return this.K(a,b,c)};es.prototype.browse=es.prototype.im;Y.prototype.In=function(a){return this.Ya(es,a)};Y.prototype.getSearchService=Y.prototype.In;function fs(a){this.g=!!a.toBypassToken;if(!this.g&&!a.token)throw new D(fs,0,'\"token\" must be specified');fs.l.constructor.call(this,fs,a);this.j=a.token;this.i={};this.f={}}u(fs,Vp);t(\"H.service.xyz.Service\",fs);fs.prototype.a=function(){return{host:\"xyz.api.here.com\",path:\"hub/spaces\"}};fs.prototype.b=function(a){return Error(a.errorMessage||a.message)};\nfs.prototype.Dh=function(a,b,c){wc(a,\"String\",this.Dh,0,'\"projectId\" must be a string');gs(this.Dh,1,b,c);a=hs(this.D().clone().Md(\"project-api/projects/\"+a));return this.K(a,b,c)};fs.prototype.getProject=fs.prototype.Dh;fs.prototype.ck=function(a,b,c){gs(this.ck,0,a,b);c=is(this,this.D().clone().I(c||{}));return this.K(c,a,b)};fs.prototype.getSpaces=fs.prototype.ck;\nfs.prototype.eg=function(a,b,c){wc(a,\"String\",this.eg,0,'\"spaceId\" must be a string');gs(this.eg,1,b,c);a=is(this,this.D().clone().F(a));return this.K(a,b,c)};fs.prototype.getSpace=fs.prototype.eg;fs.prototype.fe=function(a,b,c){wc(a,\"String\",this.fe,0,'\"spaceId\" must be a string');gs(this.fe,1,b,c);a=is(this,this.D().clone().F(a+\"/statistics\"));return this.K(a,b,c)};fs.prototype.getStatistics=fs.prototype.fe;\nfs.prototype.$f=function(a,b,c,d,e,f,g){a=is(this,this.D().clone().F(d+\"/tile/web/\"+c+\"_\"+a+\"_\"+b+\".mvtf\").I(Object.assign({clip:!0},g)));return this.K(a,function(h){return h.arrayBuffer().then(e)},f,\"arraybuffer\")};fs.prototype.search=function(a,b,c,d){wc(a,\"String\",this.search,0,'\"spaceId\" must be a string');gs(this.search,1,b,c);a=is(this,this.D().clone().F(a+\"/search\").I(d||{}));return this.K(a,b,c)};fs.prototype.search=fs.prototype.search;\nfs.prototype.cd=function(a,b,c,d){wc(a,\"String\",this.cd,0,'\"spaceId\" must be a string');if(!Da(b))throw new D(this.cd,1,'\"params\" must be an object');gs(this.cd,2,c,d);a=is(this,this.D().clone().F(a+\"/features\").I(b));return this.K(a,c,d)};fs.prototype.getFeaturesById=fs.prototype.cd;\nfs.prototype.Zd=function(a,b,c,d){wc(a,\"String\",this.Zd,0,'\"spaceId\" must be a string');if(!Da(b))throw new D(this.cd,1,'\"params\" must be an object');gs(this.Zd,2,c,d);a=is(this,this.D().clone().F(a+\"/bbox\").I(b));return this.K(a,c,d)};fs.prototype.getFeaturesByBoundingBox=fs.prototype.Zd;fs.prototype.ta=function(a){var b=this.i[a];if(b)return b;this.f[a]||this.Re(a);return null};\nfs.prototype.kd=function(a,b,c,d,e){wc(a,\"String\",this.kd,0,'\"spaceId\" must be a string');if(!Da(b))throw new D(this.kd,1,'\"geojsonObject\" must be an object');gs(this.kd,2,c,d);if(e&&!Da(e))throw new D(this.kd,4,'\"opt_params\" must be an object');return js(this,a,c,d,\"PUT\",b,e)};fs.prototype.putFeatures=fs.prototype.kd;\nfs.prototype.hd=function(a,b,c,d,e){wc(a,\"String\",this.hd,0,'\"spaceId\" must be a string');if(!Da(b))throw new D(this.hd,1,'\"featureCollection\" must be an object');gs(this.hd,2,c,d);if(e&&!Da(e))throw new D(this.hd,4,'\"opt_params\" must be an object');return js(this,a,c,d,\"POST\",b,e)};fs.prototype.postFeatures=fs.prototype.hd;\nfs.prototype.sd=function(a,b,c,d){wc(a,\"String\",this.sd,0,'\"spaceId\" must be a string');if(!Da(b))throw new D(this.sd,1,'\"params\" must be an object');gs(this.sd,2,c,d);return js(this,a,c,d,\"DELETE\",B,b)};fs.prototype.deleteFeatures=fs.prototype.sd;\nfunction js(a,b,c,d,e,f,g){var h=Object.assign(a.g?{}:{authorization:\"Bearer \"+a.j},{\"Content-Type\":\"application/geo+json\"},a.gf);e={method:e,headers:h};f&&(e.data=JSON.stringify(f));b=hs(a.D().clone().F(b+\"/features\").I(g||{}));f=new rf(\"application/json\",b.toString(),fe,e);f.then(c,Xp(a,b,d));return f}fs.prototype.Re=function(a){var b=this;this.f[a]=ks;this.eg(a,function(c){b.f[a]=ls;b.i[a]=c.copyright;b.dispatchEvent(\"copyrightupdate\")},function(c){b.f[a]=ms;throw c;})};\nfunction is(a,b){return a.g?b:hs(b).I({access_token:a.j})}function hs(a){var b=Object.assign({},a.getQuery());delete b.apikey;return a.Oi(b)}fs.CONFIG_KEY=\"xyz\";var ks=1,ls=2,ms=-1;function gs(a,b,c,d){if(!Ca(c))throw new D(a,b,'\"onResult\" must be a function');if(!Ca(d))throw new D(a,b+1,'\"onError\" must be a function');}Y.prototype.Vn=function(a){return this.Ya(fs,a)};Y.prototype.getXYZService=Y.prototype.Vn;function ns(a,b,c){var d;ns.l.constructor.call(this,c?{min:c.min,max:c.max,engineType:c.engineType}:void 0);C(a,fs,ns,0);if(!zc(b))throw new D(ns,1,'\"spaceId\" must be a string');this.s=a;this.a=b;this.c={};if(c&&([\"limit\",\"simplificationLevel\",\"tags\"].forEach(function(e){e in c&&(this.c[e]=c[e])},this),a=c.parameters))for(d in a)this.c[d]=a[d];this.ac(this.f===Vj.WEBGL?new Th({sources:{xyz:{type:\"MVT\"}},layers:{xyz:{data:{source:\"xyz\",layer:this.a},points:{filter:{$geometry:\"point\"},draw:{points:{collide:!1,\norder:200,color:\"#92CF48\",size:[[10,\"8px\"],[14,\"12px\"],[18,\"16px\"]]}}},polygons:{filter:{$geometry:\"polygon\"},draw:{polygons:{order:201,color:\"#E39E3C\"},lines:{order:202,color:\"#755DA5\",width:\"1px\"}}},lines:{filter:{$geometry:\"line\"},draw:{lines:{order:203,color:\"#000000\",width:\"2px\",join:\"round\",cap:\"round\"}}}}}}):new H.map.render.harp.Style({styles:[{layer:this.a,when:[\"==\",[\"geometry-type\"],\"Point\"],technique:\"circles\",renderOrder:200,color:\"#92CF48\",size:[\"interpolate\",[\"linear\"],[\"zoom\"],10,\n8,14,12,18,16]},{layer:this.a,when:[\"==\",[\"geometry-type\"],\"Polygon\"],technique:\"fill\",color:\"#E39E3C\",renderOrder:201},{layer:this.a,when:[\"==\",[\"geometry-type\"],\"Polygon\"],technique:\"solid-line\",color:\"#755DA5\",lineWidth:\"1px\",renderOrder:202},{layer:this.a,when:[\"==\",[\"geometry-type\"],\"LineString\"],technique:\"solid-line\",color:\"#000000\",lineWidth:\"2px\",renderOrder:203}]}))}u(ns,R);t(\"H.service.xyz.Provider\",ns);ns.prototype.K=function(a,b,c,d,e){return this.s.$f(a,b,c,this.a,d,e,this.c)};\nns.prototype.requestInternal=ns.prototype.K;ns.prototype.ta=function(){return this.s.ta(this.a)};ns.prototype.getCopyrights=ns.prototype.ta;ns.prototype.Ed=df;ns.prototype.providesOMV=ns.prototype.Ed;ns.prototype.ua=function(){return this.ub()};ns.prototype.getStyle=ns.prototype.ua;ns.prototype.rc=function(a){C(a,Th)&&a.b(\"MVT\");this.ac(a)};ns.prototype.setStyle=ns.prototype.rc;t(\"H.service.buildInfo\",function(){return Ef(\"H-service\",\"1.30.7\",\"776722f\")});\n");